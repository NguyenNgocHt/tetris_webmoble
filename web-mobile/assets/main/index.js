window.__require=function t(e,o,n){function i(a,c){if(!o[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var p="function"==typeof __require&&__require;if(!c&&p)return p(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var l=o[a]={exports:{}};e[a][0].call(l.exports,function(t){return i(e[a][1][t]||t)},l,l.exports,t,e,o,n)}return o[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({AceCell:[function(t,e,o){"use strict";cc._RF.push(e,"cfad54zz/RJnJ0R2Vanuw6c","AceCell");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./Cell"),c=cc._decorator,s=c.ccclass,p=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.CardTypeGroup=0,e}return i(e,t),e.prototype.InitAceCell=function(t){this.CardTypeGroup=t},e.prototype.GetBaseCardForEndOfArr=function(){var t=this.cards.length;return this.cards[t-1]},r([s],e)}(a.default));o.default=p,cc._RF.pop()},{"./Cell":"Cell"}],AudioLoader:[function(t,e,o){"use strict";cc._RF.push(e,"09730oBX35K5I5MoB7RuN3P","AudioLoader");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var o;return i(e,t),o=e,e.preloadAllAudioClips=function(t){cc.resources.loadDir("Sound",cc.AudioClip,function(e,n){if(e)cc.error("L\u1ed7i t\u1ea3i \xe2m thanh:",e);else{for(var i=0,r=n;i<r.length;i++){var a=r[i],c=cc.path.basename(a.name);o.loadedAudioClips[c]=a}t()}})},e.getAudioClip=function(t){return o.loadedAudioClips[t]||null},e.loadedAudioClips={},o=r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],BaseCard:[function(t,e,o){"use strict";cc._RF.push(e,"df9adgF7itAIaBXUgcyjwEj","BaseCard");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.BaseCard=void 0;var a=t("./CardType"),c=t("../cellGroup/Cell"),s=t("../gameData/SaveData"),p=t("../common/LoadImages"),l=t("./Helper"),u=t("./CardMove"),h=t("./CardColliders"),d=t("../audio/PlayAuido"),f=cc._decorator,_=f.ccclass,g=f.property,C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tempNode=null,e.SpriteCard=null,e.imgSelect=null,e.originIndex=0,e.tag_group=0,e.colliderNode=null,e.isInit=!1,e.isMoving=!1,e.nameCard="",e.CloseCardName="",e.indexCloseCard=0,e.move_upCompleteCallback=null,e.move_nguaCompleteCallback=null,e}return i(e,t),e.prototype.Init=function(t,e,o,n){var i=this;this.number_index=t,this.type=e;var r=l.default.Instance.ParseCard(t,e);this.nameCard=r,p.default.Instance.LoadingImages("Images/Card2/",r,function(t){i.SpriteCard.getComponent(cc.Sprite).spriteFrame=t}),this.imgSelect.getComponent(cc.Sprite).enabled=!1,this.tempNode=o,this.mainGame=n},e.prototype.setMove_upCompleteCallback=function(t){this.move_upCompleteCallback=t},e.prototype.callMove_upCompleteCallback=function(){this.move_upCompleteCallback&&this.move_upCompleteCallback()},e.prototype.setMove_nguaCompleteCallback=function(t){this.move_nguaCompleteCallback=t},e.prototype.callMove_nguaCompleteCallback=function(){this.move_nguaCompleteCallback&&this.move_nguaCompleteCallback()},e.prototype.Select=function(t){this.imgSelect.getComponent(cc.Sprite).enabled=t},e.prototype.GetCardInfo=function(){return new s.CardInfo(this.type,this.number_index,this.cell.id)},e.prototype.Belong=function(t,e){if(this.isInit=!0,this.cell=t.getComponent(c.default),this.tag_group=this.cell.Tag,this.id=e,this.node.getComponent(u.default)){var o=this.node.getComponent(u.default);o.RegisterEvent(),o.isMoving=!1}},e.prototype.IsInOrderWithCard=function(t){return this.IsInColor(t)&&this.IsInOrder(t,!1)},e.prototype.IsInColor=function(t){return!(this.type!=a.CardTypeStatus.CLUB&&this.type!=a.CardTypeStatus.SPADE||t.type!=a.CardTypeStatus.HEART&&t.type!=a.CardTypeStatus.DIAMOND)||!(this.type!=a.CardTypeStatus.HEART&&this.type!=a.CardTypeStatus.DIAMOND||t.type!=a.CardTypeStatus.CLUB&&t.type!=a.CardTypeStatus.SPADE)},e.prototype.IsInOrder=function(t,e){return void 0===e&&(e=!0),e?this.number_index==t.number_index-1:this.number_index==t.number_index+1},e.prototype.OnClick_AddCardMove=function(){},e.prototype.ClearCardMove=function(){this.node.getComponent(u.default)&&(this.node.parent.parent.setSiblingIndex(this.originIndex),this.node.removeComponent(u.default))},e.prototype.SetTagCollder=function(){var t=this.node.getChildByName("CardCollider");t.getComponent(cc.BoxCollider)&&(t.getComponent(cc.BoxCollider).tag=this.number_index)},e.prototype.CheckLastElementOfArray=function(){return!!this.isInit&&(this.node.getSiblingIndex()==this.node.parent.children.length-1||void 0)},e.prototype.GetIsMoving=function(){return!!this.node.getComponent(u.default)&&this.node.getComponent(u.default).isMoving},e.prototype.SetIsInputCell=function(t){this.node.getComponent(u.default)&&(this.node.getComponent(u.default).isInputCell=t,this.node.getComponent(u.default).CardMovingOrigin())},e.prototype.AddCollider=function(){var t=this.node.getChildByName("CardCollider");t.getComponent(h.default)||t.addComponent(h.default),this.SetTagCollder()},e.prototype.RemoveCollider=function(){var t=this.node.getChildByName("CardCollider");t.getComponent(h.default)&&t.removeComponent(h.default)},e.prototype.Ngua_bai=function(){var t=this;d.default.Instance.AudioEffect_swap(),cc.tween(this.SpriteCard).to(.3,{scaleX:.1,skewY:-15}).call(function(){t.SetOpenCard(),t.SpriteCard.skewY=15}).to(.3,{scaleX:1,skewY:0}).call(function(){t.callMove_nguaCompleteCallback()}).start()},e.prototype.Up_bai=function(){var t=this;d.default.Instance.AudioEffect_swap(),cc.tween(this.SpriteCard).to(.3,{scaleX:.1,skewY:-15}).call(function(){t.SetCloseCard(),t.SpriteCard.skewY=15}).to(.3,{scaleX:1,skewY:0}).call(function(){t.callMove_upCompleteCallback()}).start()},e.prototype.Up_ngua=function(){var t=this;cc.tween(this.SpriteCard).to(.07,{scaleX:.1,skewY:-15}).call(function(){d.default.Instance.AudioEffect_deal(),t.SetCloseCard(),t.SpriteCard.skewY=15}).to(.07,{scaleX:1,skewY:0}).to(.07,{scaleX:.1,skewY:-15}).call(function(){d.default.Instance.AudioEffect_deal(),t.SetOpenCard(),t.SpriteCard.skewY=15}).to(.07,{scaleX:1,skewY:0}).start()},e.prototype.SetOpenCard=function(){var t=this;p.default.Instance.LoadingImages("Images/Card2/",this.nameCard,function(e){t.SpriteCard.getComponent(cc.Sprite).spriteFrame=e})},e.prototype.SetCloseCard=function(){var t=this;p.default.Instance.LoadingImages("Images/Backsizecards/",this.CloseCardName,function(e){t.SpriteCard.getComponent(cc.Sprite).spriteFrame=e})},e.prototype.SetNameCloseCard=function(t){this.indexCloseCard=t;var e="cardType_"+t.toString();this.CloseCardName=e,this.SetCloseCard()},e.prototype.setCloseCardName=function(t){this.indexCloseCard=t;var e="cardType_"+t.toString();this.CloseCardName=e,cc.log("colse card",this.CloseCardName)},e.prototype.SetNameClosecardWithString=function(t){this.CloseCardName=t},r([g(cc.Node)],e.prototype,"SpriteCard",void 0),r([g(cc.Node)],e.prototype,"imgSelect",void 0),r([_],e)}(cc.Component);o.BaseCard=C,cc._RF.pop()},{"../audio/PlayAuido":"PlayAuido","../cellGroup/Cell":"Cell","../common/LoadImages":"LoadImages","../gameData/SaveData":"SaveData","./CardColliders":"CardColliders","./CardMove":"CardMove","./CardType":"CardType","./Helper":"Helper"}],BottomGroupManager:[function(t,e,o){"use strict";cc._RF.push(e,"496c9DHVLBJ57bHLFayBJv5","BottomGroupManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../audio/PlayAuido"),c=t("../maingame/Main"),s=cc._decorator,p=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Button_Undo=null,e.Button_Hind=null,e.Button_Game=null,e.Button_Challenge=null,e.Button_Options=null,e.MainGame=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.SetUndoGame=function(){this.MainGame=this.node.parent.parent.getComponent(c.default),this.MainGame.onUndoButtonClick()},e.prototype.SetHindGame=function(){a.default.Instance.AudioEffect_hind(),this.MainGame=this.node.parent.parent.getComponent(c.default),this.MainGame.CheckHindCellWithCell()},e.prototype.SetPopupGame=function(){this.MainGame=this.node.parent.parent.getComponent(c.default),this.MainGame.ToParentNode_showMenuGame()},e.prototype.SetChallenge=function(){this.MainGame=this.node.parent.parent.getComponent(c.default)},e.prototype.SetOptions=function(){this.MainGame=this.node.parent.parent.getComponent(c.default),this.MainGame.SetOptions()},e.prototype.OnClickButtonSound=function(){a.default.Instance.AudioEffect_touch()},r([l(cc.Button)],e.prototype,"Button_Undo",void 0),r([l(cc.Button)],e.prototype,"Button_Hind",void 0),r([l(cc.Button)],e.prototype,"Button_Game",void 0),r([l(cc.Button)],e.prototype,"Button_Challenge",void 0),r([l(cc.Button)],e.prototype,"Button_Options",void 0),r([p],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../audio/PlayAuido":"PlayAuido","../maingame/Main":"Main"}],CardColliders:[function(t,e,o){"use strict";cc._RF.push(e,"c94eaI47Q1K2r95PiUoaZie","CardColliders");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./BaseCard"),c=cc._decorator,s=c.ccclass,p=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._baseCard_other=new a.BaseCard,e._baseCard_self=new a.BaseCard,e.isInputOK=!1,e}return i(e,t),e.prototype.onCollisionEnter=function(){},e.prototype.onCollisionStay=function(){},e.prototype.onCollisionExit=function(){},e.prototype.GetCardInfo=function(){},r([s],e)}(cc.Component));o.default=p,cc._RF.pop()},{"./BaseCard":"BaseCard"}],CardMove:[function(t,e,o){"use strict";cc._RF.push(e,"70a73U+pypAqbiZYPsBWNUk","CardMove");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./BaseCard"),c=t("../audio/config"),s=t("../cellGroup/Cell"),p=t("../audio/PlayAuido"),l=t("./CardColliders"),u=cc._decorator,h=u.ccclass,d=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isMoving=!1,e.isInputCell=!1,e.isStartMouseEvent=!1,e.Mouse_status=c.MOUSE_STATUS.NO_STATUS,e.Mouse_onClickStatus=c.MOUSE_ONCLICK_LEFT_RIGHT_STATUS.NO_STATUS,e.debounceTimeout=null,e.targetPos=new cc.Vec3,e.mousePos=cc.v2(0,0),e.isLeaving=!1,e.offset=cc.v2(0,0),e.TouchCount=0,e.DoubleTouchTime=.3,e.touchStatus=c.TOUCH_STATUS.NO_STATUS,e.touchStartPos=new cc.Vec2(0,0),e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){this.RegisterEvent()},e.prototype.RegisterEvent=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onCardTouchStart.bind(this)),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onCardTouchMove.bind(this)),this.node.on(cc.Node.EventType.TOUCH_END,this.onCardTouchEnd.bind(this)),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onCardTouchEnd.bind(this))},e.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_START),this.node.off(cc.Node.EventType.TOUCH_MOVE),this.node.off(cc.Node.EventType.TOUCH_END),this.node.off(cc.Node.EventType.TOUCH_CANCEL)},e.prototype.onCardTouchStart=function(t){var e=this;if(this.TouchCount++,this.scheduleOnce(function(){this.TouchCount=0},this.DoubleTouchTime),this.TouchCount>=2?this.touchStatus=c.TOUCH_STATUS.DOUBLE_TOUCH:this.touchStatus=c.TOUCH_STATUS.TOUCH,this.touchStatus==c.TOUCH_STATUS.TOUCH){this.touchStartPos=t.getLocation(),p.default.Instance.AudioEffect_touch(),this.getOldIndex(),this.OpenSetNewSblIndexCell(),this.Mouse_onClickStatus=c.MOUSE_ONCLICK_LEFT_RIGHT_STATUS.MOUSE_LEFT,this.originPosition=this.node.position,this.node.parent.getComponent(s.default).GetCardIndex(this.node.getSiblingIndex(),this.Mouse_onClickStatus,this.touchStartPos);var o=this.node.parent.getComponent(s.default);this.Mouse_onClickStatus=c.MOUSE_ONCLICK_LEFT_RIGHT_STATUS.NO_STATUS,cc.tween(this.node).delay(.01).call(function(){e.isMoving&&o.CheckBaseCard(e.node.getSiblingIndex())}).start()}else this.touchStatus==c.TOUCH_STATUS.DOUBLE_TOUCH&&(this.Mouse_onClickStatus=c.MOUSE_ONCLICK_LEFT_RIGHT_STATUS.MOUSE_RIGHT,p.default.Instance.AudioEffect_touch(),this.node.parent.getComponent(s.default).GetCardIndex(this.node.getSiblingIndex(),this.Mouse_onClickStatus,this.touchStartPos),this.Mouse_onClickStatus=c.MOUSE_ONCLICK_LEFT_RIGHT_STATUS.NO_STATUS)},e.prototype.onCardTouchMove=function(t){if(this.isMoving)if(t.getLocation().sub(this.touchStartPos),9==this.node.getComponent(a.BaseCard).tag_group);else{var e=t.getLocation(),o=new cc.Vec3(e.x,e.y,0),n=this.node.parent.convertToNodeSpaceAR(o);this.node.setPosition(n)}},e.prototype.onCardTouchEnd=function(){var t=this;this.isMoving&&(this.node.zIndex=0,this.isLeaving=!1,this.Mouse_status=c.MOUSE_STATUS.MOUSE_UP,cc.tween(this.node).delay(.01).call(function(){t.CardMovingOrigin()}).start())},e.prototype.CardMovingOrigin=function(){var t=this;this.isInputCell?(this.Mouse_status=c.MOUSE_STATUS.NO_STATUS,this.isMoving=!1,this.isInputCell=!1,this.SetOilIndexNode()):(this.Mouse_status=c.MOUSE_STATUS.NO_STATUS,cc.tween(this.node).to(.1,{position:new cc.Vec3(this.originPosition)}).call(function(){if(t.node.getComponent(s.default)){if(20==t.node.getComponent(s.default).Tag){p.default.Instance.AudioEffect_swap(),t.isMoving=!1,t.node.getComponent(a.BaseCard).Select(!1),t.node.getComponent(s.default).get_childCardNodeInCellTag20(),t.node.removeComponent(s.default);var e=t.node.getChildByName("CardCollider");e&&e.getComponent(l.default)&&e.removeComponent(l.default)}}else t.isMoving=!1,t.node.getComponent(a.BaseCard).Select(!1),t.node.parent.getComponent(s.default).SetOriginCellIndex(),t.SetOilIndexNode(),p.default.Instance.AudioEffect_swap()}).start())},e.prototype.EmitOutputCell=function(){this.node.parent.getComponent(s.default).SetOutputCell(this.node.parent.getComponent(s.default).id_cell_old)},e.prototype.moveNode=function(t){var e=t.getLocation(),o=cc.v3(e.x,e.y,0),n=this.node.parent.convertToNodeSpaceAR(o);this.node.setPosition(n)},e.prototype.onMouseLeave=function(){this.isLeaving=!0},e.prototype.OpenSetNewSblIndexCell=function(){10!=this.node.getComponent(a.BaseCard).tag_group&&11!=this.node.getComponent(a.BaseCard).tag_group&&12!=this.node.getComponent(a.BaseCard).tag_group&&13!=this.node.getComponent(a.BaseCard).tag_group||(this.node.parent.setSiblingIndex(3),this.node.parent.parent.parent.setSiblingIndex(5))},e.prototype.getOldIndex=function(){10!=this.node.getComponent(a.BaseCard).tag_group&&11!=this.node.getComponent(a.BaseCard).tag_group&&12!=this.node.getComponent(a.BaseCard).tag_group&&13!=this.node.getComponent(a.BaseCard).tag_group||(this.indexOld_parent=this.node.parent.getSiblingIndex(),this.indexOld_parent_parent_parent=this.node.parent.parent.parent.getSiblingIndex())},e.prototype.SetOilIndexNode=function(){10!=this.node.getComponent(a.BaseCard).tag_group&&11!=this.node.getComponent(a.BaseCard).tag_group&&12!=this.node.getComponent(a.BaseCard).tag_group&&13!=this.node.getComponent(a.BaseCard).tag_group||(this.node.parent.setSiblingIndex(this.indexOld_parent),this.node.parent.parent.parent.setSiblingIndex(this.indexOld_parent_parent_parent))},r([h],e)}(cc.Component));o.default=d,cc._RF.pop()},{"../audio/PlayAuido":"PlayAuido","../audio/config":"config","../cellGroup/Cell":"Cell","./BaseCard":"BaseCard","./CardColliders":"CardColliders"}],CardType:[function(t,e,o){"use strict";cc._RF.push(e,"45abcM5UBZALJbs5FgKeu/v","CardType");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.CardTypeStatus=void 0;var a,c=cc._decorator,s=c.ccclass;c.property,function(t){t[t.SPADE=0]="SPADE",t[t.CLUB=1]="CLUB",t[t.DIAMOND=2]="DIAMOND",t[t.HEART=3]="HEART"}(a=o.CardTypeStatus||(o.CardTypeStatus={}));var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var o;return i(e,t),o=e,Object.defineProperty(e,"Instance",{get:function(){return null==this.instance&&(this.instance=new o),this.instance},enumerable:!1,configurable:!0}),e.prototype.getStringToCardType=function(t){switch(t){case a.SPADE:return"SPADE";case a.CLUB:return"CLUB";case a.DIAMOND:return"DIAMOND";case a.HEART:return"HEART";default:return"UNKNOWN"}},e.instance=null,o=r([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],Cell:[function(t,e,o){"use strict";cc._RF.push(e,"5c99b4SBk9Amqup5NWbWj7Q","Cell");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../CardGroup/BaseCard"),c=t("../CardGroup/CardColliders"),s=t("../CardGroup/CardMove"),p=t("../audio/config"),l=cc._decorator,u=l.ccclass,h=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Tag=0,e.CardOrigin=[],e.cards=[],e.posCell_intermediry=new cc.Vec3(0,0,0),e.countCheckIndexMax=0,e.countPushIndexCard=0,e.IndexCard_onclick=0,e.PosTouchStart=new cc.Vec2(0,0),e.IndexCellOrigin=0,e.isCellMove=!1,e}return i(e,t),e.prototype.start=function(){this.cards=[],10==this.Tag||11==this.Tag||12==this.Tag||13==this.Tag?this.IndexCellOrigin=this.node.parent.parent.getSiblingIndex():1!=this.Tag&&2!=this.Tag&&3!=this.Tag&&4!=this.Tag&&5!=this.Tag&&6!=this.Tag&&7!=this.Tag&&8!=this.Tag||(this.IndexCellOrigin=this.node.parent.getSiblingIndex())},e.prototype.InitCell=function(){this.cards=[]},e.prototype.onDisable=function(){for(var t=this.node.children,e=0;e<t.length;e++)t[e].off(p.GAME_LISTEN_TO_EVENTS.DATA_INDEX_FOR_CARD),t[e].off(p.GAME_LISTEN_TO_EVENTS.DATA_OUTPUT_CELL)},e.prototype.Add=function(t){this.cards||(this.cards=[]),this.cards.includes(t)||this.cards.push(t),t.node.parent&&t.node.removeFromParent(),this.node.addChild(t.node),t.Belong(this.node,this.cards.length),this.SetPositionAllChild()},e.prototype.SetPositionAllChild=function(){if(1==this.Tag||2==this.Tag||3==this.Tag||4==this.Tag||5==this.Tag||6==this.Tag||7==this.Tag||8==this.Tag)for(var t=this.node.children,e=0;e<t.length;e++)t[e].getComponent(a.BaseCard).imgSelect.getComponent(cc.Sprite).enabled=!1,0==e?t[e].setPosition(this.node.position.x,this.node.position.y):t[e].setPosition(this.node.position.x,this.node.position.y-50*e);else if(10==this.Tag||11==this.Tag||12==this.Tag||13==this.Tag)for(t=this.node.children,e=0;e<t.length;e++)t[e].setPosition(0,0);else if(14==this.Tag||15==this.Tag||16==this.Tag||17==this.Tag)for(t=this.node.children,e=0;e<t.length;e++)t[e].setPosition(0,0),t[e].removeComponent(s.default),t[e].removeComponent(c.default)},e.prototype.GroupFrom=function(t){return this.cards.slice(t)},e.prototype.RemoveFrom=function(t){this.cards.splice(t,this.cards.length-t)},e.prototype.RemoveCard=function(t){var e=this.cards.indexOf(t);-1!==e&&this.cards.splice(e,1)},e.prototype.AddGroup=function(t){for(var e=0;e<t.length;e++)this.Add(t[e])},e.prototype.Length=function(){if(this.cards.length)return this.cards.length},e.prototype.GetCard=function(t){return this.cards[t]},e.prototype.SetCard=function(t,e){this.cards[t]=e},e.prototype.getFree=function(){return this.cards=this.cards||[],0===this.cards.length},e.prototype.TopCard=function(){return this.cards=this.cards||[],this.cards.length>0?this.cards[this.cards.length-1]:null},e.prototype.CheckAutoCollect=function(){if(null!=this.cards&&this.cards.length>1)for(var t=0;t<this.cards.length-1;t++)if(this.cards[t].number_index-1!=this.cards[t+1].number_index)return!1;return!0},e.prototype.MovableCards=function(){null!=this.TopCard()&&(void 0).push(this.TopCard());for(var t=this.cards.length-2;t>=0&&this.cards[t+1].IsInOrderWithCard(this.cards[t]);t--)(void 0).push(this.cards[t])},e.prototype.Select=function(t){this.getFree()||this.TopCard().Select(t)},e.prototype.SetOriginCellIndex=function(){this.node.parent.setSiblingIndex(this.IndexCellOrigin)},e.prototype.SetOriginFreeCellIndex=function(){this.node.parent.parent.setSiblingIndex(this.IndexCellOrigin)},e.prototype.AddColliderCards_gameStart=function(){for(var t=this.node.children,e=0;e<t.length;e++)e==t.length-1?this.AddCollider(e):this.RemoveCollider(e)},e.prototype.AddCollider=function(t){for(var e=this.node.children,o=0;o<e.length;o++)o==t&&e[o].getComponent(a.BaseCard).AddCollider()},e.prototype.RemoveCollider=function(t){for(var e=this.node.children,o=0;o<e.length;o++)o==t&&e[o].getComponent(a.BaseCard).RemoveCollider()},e.prototype.Set_positionCell_intermediary=function(t){this.posCell_intermediry=t},e.prototype.RemoveCards_freecell=function(){this.cards=[]},e.prototype.RemoveCards_cell=function(){this.cards=[]},e.prototype.RemoveAllChildsAndCard=function(){this.node.removeAllChildren(),this.cards=[],this.carts_intermediaryOutput=[],this.Cards_intermediaryInput=[],this.cards_inputCardEnterCellOld=[]},e.prototype.GetTopCell=function(){var t=this.node.children;if(t){var e=t.length;if(e>0)return t[e-1].getComponent(a.BaseCard)}},r([h],e.prototype,"Tag",void 0),r([u],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../CardGroup/BaseCard":"BaseCard","../CardGroup/CardColliders":"CardColliders","../CardGroup/CardMove":"CardMove","../audio/config":"config"}],CenterGroupControler:[function(t,e,o){"use strict";cc._RF.push(e,"dcfdcZXsV9E8b0p2SHsgpvl","CenterGroupControler");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../LoadPrefab/PrefabManager"),c=t("../common/CheckRandomNumber"),s=t("../audio/config"),p=t("./tetrisMove"),l=t("../iconTetris/iconBase"),u=t("./NhapMangCollider"),h=t("../iconTetris/iconBgBase"),d=t("../PoolManager/PoolManager"),f=t("./IconBgGroupManager"),_=cc._decorator,g=_.ccclass,C=_.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.poolManager=null,e.atomTest=null,e.iconTetris=null,e.BGIcon=null,e.PosStart=null,e.IconGroup=null,e.IconBG_Prefab=null,e.tetrisIcon=null,e.Hang_Index=20,e.Cot_Index=20,e.countSwapRotation=0,e.randomTetrisIndex=0,e.tetrisNewStart=!0,e.tetrisColorNewStart=!0,e.random_tetrisValue=0,e.random_tetrisColor=0,e.tetris_Node_inPool=null,e.tetrisIndexCurrent=0,e.randomColorCurrent=0,e.isLoseGame=!1,e.speedUp=0,e}return i(e,t),e.prototype.start=function(){this.RegisterEvent()},e.prototype.RegisterEvent=function(){this.BGIcon.on(s.GAME_LISTEN_TO_EVENTS.TETRIS_TO_LEFT,this.SetTetrisToLeft,this),this.BGIcon.on(s.GAME_LISTEN_TO_EVENTS.TETRIS_TO_RIGHT,this.SetTetrisToRight,this),this.BGIcon.on(s.GAME_LISTEN_TO_EVENTS.TETRIS_tO_BOTTOM,this.SetTetrisToBottom,this),this.isLoseGame=!1,this.tetrisIcon.children[0].on(s.GAME_LISTEN_TO_EVENTS.FALLING_END,this.SetFallingEnd,this),this.tetrisIcon.children[0].on(s.GAME_LISTEN_TO_EVENTS.ICON_TETRIS_NHAPMANG,this.SetNhapMang,this),this.IconGroup.on(s.GAME_LISTEN_TO_EVENTS.REMOVE_TETRIS_OLD,this.RemoveTetrisOld,this),this.IconGroup.on(s.GAME_LISTEN_TO_EVENTS.ADD_POINT,this.SendToMainAddPoint,this),this.IconGroup.on(s.GAME_LISTEN_TO_EVENTS.LOSE_GAME,this.SetLoseGame,this)},e.prototype.SendToMainAddPoint=function(t){this.node.emit(s.GAME_LISTEN_TO_EVENTS.ADD_POINT,t)},e.prototype.SetIConBgGroup=function(){for(var t=0;t<this.Hang_Index;t++)for(var e=0;e<this.Cot_Index;e++){var o=this.poolManager.getComponent(d.default).GetIconBgTetrisNode();if(o){o.parent&&o.removeFromParent(),o.active=!0,this.IconGroup.addChild(o),o.getComponent(h.default).SetTetrisStatus(0);var n=this.getPostionInOtherNode(o,this.PosStart);o.setPosition(n.x+e*o.width,n.y-t*o.height,0)}}this.SetPosIconTetris()},e.prototype.SetPosIconTetris=function(){var t,e=c.default.Instance.getRandomValidNumber(1,18);if(this.tetrisNewStart)for(t=Math.floor(6*Math.random())+1;6==t;)t=Math.floor(6*Math.random())+1;else t=this.random_tetrisValue;this.tetrisIndexCurrent=t;for(var o=null,n=this.IconGroup.children,i=0;i<n.length;i++)i==e&&(o=n[i]);var r=this.poolManager.getComponent(d.default).GetTetrisNodefromPool(t);r&&(r.parent&&r.removeFromParent(),this.tetrisIcon.addChild(r),r.setPosition(0,0),r.active=!0,cc.log("tetris new",r));var a=this.getPostionInOtherNode(r,o),s=this.getPostionInOtherNode(this.atomTest,o);this.atomTest.setPosition(s),1==t?r.setPosition(a.x+16,a.y-17,0):2==t?r.setPosition(a.x,a.y-51,0):3==t?r.setPosition(a.x+16,a.y-34,0):4==t?r.setPosition(a.x+16,a.y-34,0):5==t?r.setPosition(a.x,a.y-17,0):6==t&&r.setPosition(a.x,a.y-17,0),this.RegisterEvent(),this.Init_inputIconTetris()},e.prototype.Init_inputIconTetris=function(){var t;t=this.tetrisColorNewStart?c.default.Instance.getRandomValidNumber(0,5):this.random_tetrisColor,this.randomColorCurrent=t;for(var e=this.tetrisIcon.children[0],o=e.getChildByName(s.NODE_NAME.ICON_TETRIS_GROUP).children,n=0;n<o.length;n++){var i=this.poolManager.getComponent(d.default).GetIconNodeFromPool(t);i&&(i.active=!0,i.parent&&i.removeFromParent(),o[n].addChild(i),i.setPosition(0,0),i.getComponent(l.default).SetIconTetrisStatus(s.TETRIS_STATUS.TETRIS_GROUP),i.getComponent(l.default).ResetColliderTetrisVacham())}e.getComponent(p.default).SetSpeedFalling(this.speedUp),e.getComponent(p.default).TetrisFalling(),e.getComponent(p.default).RegisterEvent(),this.scheduleOnce(function(){this.random_tetrisValue=c.default.Instance.getRandomValidNumber(1,6),this.random_tetrisColor=c.default.Instance.getRandomValidNumber(0,5),this.tetrisNewStart=!1,this.tetrisColorNewStart=!1,this.InitTetrisNext()},.1)},e.prototype.InitTetrisNext=function(){var t="tetris"+this.random_tetrisValue.toString(),e=(a.default.getPrefab(t),this.poolManager.getComponent(d.default).GetTetrisNodefromPool(this.random_tetrisValue));e&&(e.parent&&e.removeFromParent(),e.active=!0,this.InitIconInTetris(e))},e.prototype.InitIconInTetris=function(t){for(var e=t.getChildByName(s.NODE_NAME.ICON_TETRIS_GROUP).children,o=0;o<e.length;o++){var n=this.poolManager.getComponent(d.default).GetIconNodeFromPool(this.random_tetrisColor);n&&(n.parent&&n.removeFromParent(),e[o].addChild(n),n.setPosition(0,0),n.active=!0,n.getComponent(l.default).SetIconTetrisStatus(s.TETRIS_STATUS.TETRIS_GROUP))}this.node.emit(s.GAME_LISTEN_TO_EVENTS.GUI_SHOW_TETRIS_NODE_NEXT,t,this.tetrisIndexCurrent,this.randomColorCurrent)},e.prototype.OnClickSwaptetris=function(){this.countSwapRotation++;var t=this.tetrisIcon.children[0];t.name!=s.PREFAB_NAME.TETRIS1&&(this.SetOnClickNotCollider(t),this.SetOnClickSwap_ColiderLeft(t),this.SetOnClickSwap_ColiderRight(t))},e.prototype.SetOnClickNotCollider=function(t){var e=t.getComponent(p.default);if(!e.GetLockMovingLeft()&&!e.GetLockMovingRight()){var o=void 0;1==this.countSwapRotation?(t.setPosition(t.position.x+16,t.position.y,0),o=90):2==this.countSwapRotation?(t.setPosition(t.position.x-16,t.position.y,0),o=180):3==this.countSwapRotation?(t.setPosition(t.position.x+16,t.position.y,0),o=270):4==this.countSwapRotation&&(t.setPosition(t.position.x-16,t.position.y,0),o=360,this.countSwapRotation=0),t.angle=o}},e.prototype.ResetTetrisRotationToOrigin=function(t){t.angle=0},e.prototype.SetOnClickSwap_ColiderLeft=function(t){if(t.getComponent(p.default).GetLockMovingLeft()){var e=void 0;t.name==s.PREFAB_NAME.TETRIS3||t.name==s.PREFAB_NAME.TETRIS4?(1==this.countSwapRotation?(t.setPosition(t.position.x+16,t.position.y,0),e=90):2==this.countSwapRotation?(t.setPosition(t.position.x-16,t.position.y,0),e=180):3==this.countSwapRotation?(t.setPosition(t.position.x+16,t.position.y,0),e=270):4==this.countSwapRotation&&(t.setPosition(t.position.x-16,t.position.y,0),e=360,this.countSwapRotation=0),t.angle=e):t.name==s.PREFAB_NAME.TETRIS2?(1==this.countSwapRotation?(t.setPosition(t.position.x+16+32,t.position.y,0),e=90):2==this.countSwapRotation?(t.setPosition(t.position.x-16-32,t.position.y,0),e=180):3==this.countSwapRotation?(t.setPosition(t.position.x+16+32,t.position.y,0),e=270):4==this.countSwapRotation&&(t.setPosition(t.position.x-16-32,t.position.y,0),e=360,this.countSwapRotation=0),t.angle=e):t.name!=s.PREFAB_NAME.TETRIS5&&t.name!=s.PREFAB_NAME.TETRIS6||(1==this.countSwapRotation?(t.setPosition(t.position.x+16-32,t.position.y,0),e=90):2==this.countSwapRotation?(t.setPosition(t.position.x-16+32,t.position.y,0),e=180):3==this.countSwapRotation?(t.setPosition(t.position.x+16-32,t.position.y,0),e=270):4==this.countSwapRotation&&(t.setPosition(t.position.x-16+32,t.position.y,0),e=360,this.countSwapRotation=0),t.angle=e)}},e.prototype.SetOnClickSwap_ColiderRight=function(t){if(t.getComponent(p.default).GetLockMovingRight()){var e=void 0;t.name==s.PREFAB_NAME.TETRIS3||t.name==s.PREFAB_NAME.TETRIS4?(1==this.countSwapRotation?(t.setPosition(t.position.x-16,t.position.y,0),e=90):2==this.countSwapRotation?(t.setPosition(t.position.x+16,t.position.y,0),e=180):3==this.countSwapRotation?(t.setPosition(t.position.x-16,t.position.y,0),e=270):4==this.countSwapRotation&&(t.setPosition(t.position.x+16,t.position.y,0),e=360,this.countSwapRotation=0),t.angle=e):t.name==s.PREFAB_NAME.TETRIS2?(1==this.countSwapRotation?(t.setPosition(t.position.x+16-64,t.position.y,0),e=90):2==this.countSwapRotation?(t.setPosition(t.position.x-16+64,t.position.y,0),e=180):3==this.countSwapRotation?(t.setPosition(t.position.x+16-64,t.position.y,0),e=270):4==this.countSwapRotation&&(t.setPosition(t.position.x-16+64,t.position.y,0),e=360,this.countSwapRotation=0),t.angle=e):t.name!=s.PREFAB_NAME.TETRIS5&&t.name!=s.PREFAB_NAME.TETRIS6||(1==this.countSwapRotation?(t.setPosition(t.position.x+16,t.position.y,0),e=90):2==this.countSwapRotation?(t.setPosition(t.position.x-16,t.position.y,0),e=180):3==this.countSwapRotation?(t.setPosition(t.position.x+16,t.position.y,0),e=270):4==this.countSwapRotation&&(t.setPosition(t.position.x-16,t.position.y,0),e=360,this.countSwapRotation=0),t.angle=e)}},e.prototype.getPostionInOtherNode=function(t,e){if(null==e.parent)return null;var o=e.parent.convertToWorldSpaceAR(e.getPosition());return t.parent.convertToNodeSpaceAR(o)},e.prototype.SetTetrisToLeft=function(){var t=this.tetrisIcon.children[0].getComponent(p.default);t&&(t.SetIsMoving(!0),t.TetrisMovingToLeft())},e.prototype.SetTetrisToRight=function(){var t=this.tetrisIcon.children[0].getComponent(p.default);t&&(t.SetIsMoving(!0),t.TetrisMovingToRight())},e.prototype.SetTetrisToBottom=function(){var t=this.tetrisIcon.children[0].getComponent(p.default);t&&(t.SetIsMoving(!0),t.SetUpSpeedMax())},e.prototype.SetNhapMang=function(t,e){this.IconGroup.getComponent(f.default).EmitToCenterGroupMain(e,t)},e.prototype.SetFallingEnd=function(){cc.log("Set falling end center Group");for(var t=this.tetrisIcon.children[0].getChildByName(s.NODE_NAME.ICON_TETRIS_GROUP).children,e=0;e<t.length;e++){var o=t[e].getChildByName(s.NODE_NAME.ICON_NAME).getChildByName(s.NODE_NAME.COLLIDER_NHAP_MANG);o&&o.addComponent(u.default)}},e.prototype.RemoveTetrisOld=function(){cc.log("remove tetris old");var t=this.tetrisIcon.children[0];this.ResetTetrisRotationToOrigin(t),this.poolManager.getComponent(d.default).PushTetrisNodeThePool(this.tetrisIndexCurrent,this.tetrisIcon.children[0]),this.scheduleOnce(function(){0!=this.tetrisIcon.children||this.isLoseGame||(this.countSwapRotation=0,this.SetPosIconTetris(),this.RegisterEvent())},.1)},e.prototype.UpSpeedFalling=function(t){this.speedUp+=t;var e=this.tetrisIcon.children[0].getComponent(p.default);e&&e.SetSpeedFalling(t)},e.prototype.SetLoseGame=function(){this.isLoseGame=!0,this.RemoveAllPropertiesCenterGame(),this.node.emit(s.GAME_LISTEN_TO_EVENTS.LOSE_GAME)},e.prototype.RemoveAllPropertiesCenterGame=function(){this.RemoveTetrisGroup(),this.RemoveIconTetris(),this.RemoveBGIconGroup(),this.SetAllProperties()},e.prototype.RemoveTetrisGroup=function(){if(this.tetrisIcon.children[0]){for(var t=this.tetrisIcon.children[0],e=t.getChildByName(s.NODE_NAME.ICON_TETRIS_GROUP).children,o=0;o<e.length;o++)if(e[o].getChildByName(s.NODE_NAME.ICON_NAME)){var n=e[o].getChildByName(s.NODE_NAME.ICON_NAME),i=n.getComponent(l.default).GetColorIndex();cc.log("push icon tetris node"),this.poolManager.getComponent(d.default).PushIconInThePool(i,n)}this.ResetTetrisRotationToOrigin(t),this.poolManager.getComponent(d.default).PushTetrisNodeThePool(this.tetrisIndexCurrent,t),this.tetrisIcon.removeAllChildren()}},e.prototype.RemoveIconTetris=function(){for(var t=this.IconGroup.children,e=0;e<t.length;e++)if(t[e].getChildByName(s.NODE_NAME.ICON_NAME)){var o=t[e].getChildByName(s.NODE_NAME.ICON_NAME),n=o.getComponent(l.default).GetColorIndex();this.poolManager.getComponent(d.default).PushIconInThePool(n,o)}},e.prototype.RemoveBGIconGroup=function(){for(var t=this.IconGroup.children,e=0;e<t.length;e++)this.poolManager.getComponent(d.default).PushIconBgNode(t[e]);this.IconGroup.removeAllChildren()},e.prototype.SetAllProperties=function(){this.countSwapRotation=0,this.randomTetrisIndex=0,this.speedUp=0},r([C(cc.Node)],e.prototype,"poolManager",void 0),r([C(cc.Node)],e.prototype,"atomTest",void 0),r([C(cc.Prefab)],e.prototype,"iconTetris",void 0),r([C(cc.Node)],e.prototype,"BGIcon",void 0),r([C(cc.Node)],e.prototype,"PosStart",void 0),r([C(cc.Node)],e.prototype,"IconGroup",void 0),r([C(cc.Prefab)],e.prototype,"IconBG_Prefab",void 0),r([C(cc.Node)],e.prototype,"tetrisIcon",void 0),r([g],e)}(cc.Component);o.default=m,cc._RF.pop()},{"../LoadPrefab/PrefabManager":"PrefabManager","../PoolManager/PoolManager":"PoolManager","../audio/config":"config","../common/CheckRandomNumber":"CheckRandomNumber","../iconTetris/iconBase":"iconBase","../iconTetris/iconBgBase":"iconBgBase","./IconBgGroupManager":"IconBgGroupManager","./NhapMangCollider":"NhapMangCollider","./tetrisMove":"tetrisMove"}],CheckRandomNumber:[function(t,e,o){"use strict";cc._RF.push(e,"0862aQzRwpEK6/GK4P7xtKL","CheckRandomNumber");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,a=(i.property,function(){function t(){}var e;return e=t,Object.defineProperty(t,"Instance",{get:function(){return null==this.instance&&(this.instance=new e),this.instance},enumerable:!1,configurable:!0}),t.prototype.getRandomNumberInRange=function(t,e){return Math.floor(Math.random()*(e-t))+t},t.prototype.getRandomValidNumber=function(t,e){for(var o=this.getRandomNumberInRange(t,e);o>e;)o=this.getRandomNumberInRange(t,e);return o},t.instance=null,e=n([r],t)}());o.default=a,cc._RF.pop()},{}],FreeCell:[function(t,e,o){"use strict";cc._RF.push(e,"f0916SCoZJEnpB5pgTgaYai","FreeCell");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./Cell"),c=cc._decorator,s=c.ccclass,p=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.CardTypeGroup=0,e}return i(e,t),e.prototype.setSbilingIndexCell=function(){var t=this.node.children;this.node.parent.parent.setSiblingIndex(5),t[0].setSiblingIndex(5)},r([s],e)}(a.default));o.default=p,cc._RF.pop()},{"./Cell":"Cell"}],GameControler:[function(t,e,o){"use strict";cc._RF.push(e,"668943FB/1Nfa7pP2SK3kB2","GameControler");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.GameControler=void 0;var a=t("../WinGame/WinGameContro"),c=t("./Main"),s=cc._decorator,p=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Home=null,e.Loading=null,e.WinGame=null,e.LoseGame=null,e.MainGame=null,e.MenuGame=null,e.Options=null,e}return i(e,t),e.prototype.ShowMenuGame=function(){this.MenuGame.active=!0},e.prototype.CloseMenuGame=function(){this.MenuGame.active=!1},e.prototype.SetNewGameToMain=function(){this.MainGame.getComponent(c.default).SetNewGame(),this.MenuGame.active=!1},e.prototype.SetReplay=function(){this.MainGame.getComponent(c.default).SetNewGame(),this.MenuGame.active=!1},e.prototype.SetOptions=function(){this.Options.active=!0},e.prototype.CloseOptions=function(){this.Options.active=!1},e.prototype.SetHindAutoStart=function(){this.MainGame.getComponent(c.default).HindAutoStart()},e.prototype.SetHindAutoStop=function(){this.MainGame.getComponent(c.default).HindAutoStop()},e.prototype.SetThemesToMainGame=function(t){this.MainGame.getComponent(c.default).ThemesSetting(t)},e.prototype.OnWinGame=function(t,e,o,n,i){this.WinGame.active=!0,this.WinGame.getComponent(a.default).ShowAllPointGame(t,e,o,n,i)},e.prototype.OnLoseGame=function(){this.LoseGame.active=!0},e.prototype.OffWinGame=function(){this.WinGame.active=!1},e.prototype.OffLosegame=function(){this.LoseGame.active=!1},e.prototype.GamePlay_next_FromWinGame=function(){this.MainGame.getComponent(c.default).SetNewGame(),this.WinGame.active=!1},e.prototype.GamePlay_next_FromLoseGame=function(){this.MainGame.getComponent(c.default).SetNewGame(),this.LoseGame.active=!1},e.prototype.ComebackHomefromWinGame=function(){this.WinGame.active=!1,this.Home.active=!0},e.prototype.ComebackHomefromLoseGame=function(){this.LoseGame.active=!1,this.Home.active=!0},e.prototype.OffLoading_onHome=function(){this.Loading.active=!1,this.Home.active=!0},e.prototype.OffHomeAndOnMainGame=function(){this.Home.active=!1},e.prototype.SetNewGameFromHome=function(){this.MainGame.getComponent(c.default).SetNewGame(),this.Home.active=!1},e.prototype.SetContinueGamePlayFromHome=function(){this.Home.active=!1,this.MainGame.getComponent(c.default).newGame=!1,this.MainGame.getComponent(c.default).StartGame()},r([l(cc.Node)],e.prototype,"Home",void 0),r([l(cc.Node)],e.prototype,"Loading",void 0),r([l(cc.Node)],e.prototype,"WinGame",void 0),r([l(cc.Node)],e.prototype,"LoseGame",void 0),r([l(cc.Node)],e.prototype,"MainGame",void 0),r([l(cc.Node)],e.prototype,"MenuGame",void 0),r([l(cc.Node)],e.prototype,"Options",void 0),r([p],e)}(cc.Component);o.GameControler=u,cc._RF.pop()},{"../WinGame/WinGameContro":"WinGameContro","./Main":"Main"}],GameData:[function(t,e,o){"use strict";cc._RF.push(e,"123b853FPdHJKTUmklECIy1","GameData");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeCallback=null,e.scoreCallback=null,e.moveCallback=null,e}return i(e,t),e.prototype.start=function(){this.score=0,this.time=0,this.move=0,this.undo=0,this.hint=0},e.prototype.invokeScoreCallback=function(){this.scoreCallback&&this.scoreCallback(this.TrueScore)},e.prototype.invokeTimeCallback=function(){this.timeCallback&&this.timeCallback(this.time)},e.prototype.invokeMoveCallback=function(){this.moveCallback&&this.moveCallback(this.move)},e.prototype.Init=function(t,e,o,n,i){this.score=t,this.time=e,this.move=o,this.undo=n,this.hint=i},e.prototype.GetTrueScore=function(){var t=this.score-Math.floor(this.time/10);return t<=0?0:t},e.prototype.AddHint=function(){this.hint+=1},e.prototype.AddUndo=function(){this.undo+=1},r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],GameManager:[function(t,e,o){"use strict";cc._RF.push(e,"29d67VSwt1GjIX7d9Q5QH4k","GameManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.GameManager=void 0;var a=t("../Optisons/OptisonContro"),c=t("../WinGame/WinGameContro"),s=t("../audio/config"),p=t("./Main"),l=cc._decorator,u=l.ccclass,h=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.SceneGame=null,e.bundleName="prefabs",e.countAllOptionsType=null,e}return i(e,t),e.prototype.start=function(){this.loadBundleAndPrefab(),this.countAllOptionsType={count_setMusic:0,count_setSound:0,count_setHind:0}},e.prototype.loadBundleAndPrefab=function(){var t=this;cc.assetManager.loadBundle(this.bundleName,function(e,o){e?console.error("Error loading bundle:",e):o.load("Loading",cc.Prefab,function(e,o){if(e)console.error("Error loading prefab:",e);else{var n=cc.instantiate(o);t.SceneGame.addChild(n),n.setPosition(0,0)}})})},e.prototype.MoveScreen=function(t,e){var o=cc.instantiate(e);this.SceneGame.removeChild(t),this.SceneGame.addChild(o),o.setPosition(0,0)},e.prototype.OnClickNewGame=function(t,e){this.MoveScreen(t,e);var o=this.SceneGame.getChildByName(s.PREFAB_NAME.MAIN_GAME_PLAY);o&&(o.getComponent(p.default).is_new_load_game=s.GAMEPLAY_STATUS.NEW_GAME,o.getComponent(p.default).SetNewGame())},e.prototype.OnClickGameLoad=function(t,e){this.MoveScreen(t,e);var o=this.SceneGame.getChildByName(s.PREFAB_NAME.MAIN_GAME_PLAY);o&&(o.getComponent(p.default).is_new_load_game=s.GAMEPLAY_STATUS.LOADING_GAME,o.getComponent(p.default).SetLoadingGame())},e.prototype.OnClickGamePlay=function(t,e){this.MoveScreen(t,e);var o=this.SceneGame.getChildByName(s.PREFAB_NAME.MAIN_GAME_PLAY);o&&(o.getComponent(p.default).is_new_load_game=s.GAMEPLAY_STATUS.LOADING_GAME,o.getComponent(p.default).SetLoadingGame())},e.prototype.ShowGamePopup=function(t){var e=cc.instantiate(t);e&&(this.SceneGame.addChild(e),e.setPosition(0,0))},e.prototype.RemovePopup=function(t){this.SceneGame.removeChild(t)},e.prototype.NewGameAndReplayGame=function(){var t=this.SceneGame.getChildByName(s.PREFAB_NAME.MAIN_GAME_PLAY);t&&(t.getComponent(p.default).is_new_load_game=s.GAMEPLAY_STATUS.NEW_GAME,t.getComponent(p.default).SetNewGame())},e.prototype.ShowOptionsPopupAndSetDataOpstion=function(t){this.ShowGamePopup(t);var e=this.SceneGame.getChildByName(s.PREFAB_NAME.OPTIONS);e&&e.getComponent(a.default).SetOptionState(this.countAllOptionsType)},e.prototype.HindAutoStart=function(){this.SceneGame.getChildByName(s.PREFAB_NAME.MAIN_GAME_PLAY)},e.prototype.HindAutoStop=function(){this.SceneGame.getChildByName(s.PREFAB_NAME.MAIN_GAME_PLAY)},e.prototype.RemovePopupAndGetDataOptions=function(t){var e=this.SceneGame.getChildByName(s.PREFAB_NAME.OPTIONS);e&&(this.countAllOptionsType=e.getComponent(a.default).GetCountAllSettingType()),cc.log("this.countAllOptionsType",this.countAllOptionsType),this.RemovePopup(t)},e.prototype.ThemesSetting=function(t,e){var o=this.SceneGame.getChildByName(s.PREFAB_NAME.MAIN_GAME_PLAY);o&&o.getComponent(p.default).ThemesSetting(t),this.RemovePopup(e)},e.prototype.ShowWinGameAndSetPoint=function(t,e,o,n,i,r){this.ShowGamePopup(t);var a=this.SceneGame.getChildByName(s.PREFAB_NAME.WIN_GAME);a&&a.getComponent(c.default).ShowAllPointGame(e,o,n,i,r)},e.prototype.ComebackHome=function(t){this.SceneGame.removeAllChildren(),this.ShowGamePopup(t)},e.prototype.NextGamePlay=function(){this.NewGameAndReplayGame()},e.prototype.ShowLoseGame=function(t){this.ShowGamePopup(t)},r([h(cc.Node)],e.prototype,"SceneGame",void 0),r([u],e)}(cc.Component);o.GameManager=d,cc._RF.pop()},{"../Optisons/OptisonContro":"OptisonContro","../WinGame/WinGameContro":"WinGameContro","../audio/config":"config","./Main":"Main"}],GetEventTouchControlerTetris:[function(t,e,o){"use strict";cc._RF.push(e,"74fbaIcqCtGi5s6vut1U/WL","GetEventTouchControlerTetris");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../audio/config"),c=t("./tetrisMove"),s=cc._decorator,p=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tetrisNode=null,e}return i(e,t),e.prototype.start=function(){this.RegisterEvent()},e.prototype.RegisterEvent=function(){var t=this,e=!1,o="";this.node.on(cc.Node.EventType.TOUCH_START,function(){e=t.tetrisNode.children[0].getComponent(c.default).GetFallingStatus()==a.FALLING_STATUS.FALLING}),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){if(e){var n=t.getStartLocation(),i=t.getLocation(),r=i.x-n.x,a=i.y-n.y;o=Math.abs(r)>Math.abs(a)?r>0?"right":"left":a>0?"up":"down"}}),this.node.on(cc.Node.EventType.TOUCH_END,function(){if(e){switch(e=!1,o){case"left":t.node.emit(a.GAME_LISTEN_TO_EVENTS.TETRIS_TO_LEFT);break;case"right":t.node.emit(a.GAME_LISTEN_TO_EVENTS.TETRIS_TO_RIGHT);break;case"up":break;case"down":t.node.emit(a.GAME_LISTEN_TO_EVENTS.TETRIS_tO_BOTTOM)}o=""}})},r([l(cc.Node)],e.prototype,"tetrisNode",void 0),r([p],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../audio/config":"config","./tetrisMove":"tetrisMove"}],Helper:[function(t,e,o){"use strict";cc._RF.push(e,"2dfa9UrosBIBpSi29ylv/B6","Helper");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./CardType"),c=cc._decorator,s=c.ccclass,p=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var o;return i(e,t),o=e,Object.defineProperty(e,"Instance",{get:function(){return null==this.instance&&(this.instance=new o),this.instance},enumerable:!1,configurable:!0}),e.prototype.ParseCard=function(t,e,o){void 0===o&&(o=0);var n="";if(1==o){switch(t){case 1:n+="ACE";break;case 2:n+="TWO";break;case 3:n+="THREE";break;case 4:n+="FOUR";break;case 5:n+="FIVE";break;case 6:n+="SIX";break;case 7:n+="SEVEN";break;case 8:n+="EIGHT";break;case 9:n+="NINE";break;case 10:n+="TEN";break;case 11:n+="JACK";break;case 12:n+="QUEEN";break;case 13:n+="KING"}n=n+="_of_"+a.default.Instance.getStringToCardType(e)}else{switch(e){case a.CardTypeStatus.CLUB:n+="a";break;case a.CardTypeStatus.DIAMOND:n+="b";break;case a.CardTypeStatus.SPADE:n+="c";break;case a.CardTypeStatus.HEART:n+="d"}n=n+=t.toString()}return n},e.instance=null,o=r([s],e)}(cc.Component));o.default=p,cc._RF.pop()},{"./CardType":"CardType"}],HomeContro:[function(t,e,o){"use strict";cc._RF.push(e,"ed6968Kb9tGnI1JMSN6/oiU","HomeContro");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../audio/PlayAuido"),c=t("../LoadPrefab/PrefabManager"),s=t("../audio/config"),p=t("../maingame/GameManager"),l=cc._decorator,u=l.ccclass,h=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.OnClickButton_Play=function(){var t=c.default.getPrefab(s.PREFAB_NAME.MAIN_GAME_PLAY);t&&this.node.parent.parent.getComponent(p.GameManager).OnClickGamePlay(this.node,t)},e.prototype.OnClickNewGame=function(){var t=c.default.getPrefab(s.PREFAB_NAME.MAIN_GAME_PLAY);t&&this.node.parent.parent.getComponent(p.GameManager).OnClickNewGame(this.node,t)},e.prototype.OnClickButtonContinuePlay=function(){var t=c.default.getPrefab(s.PREFAB_NAME.MAIN_GAME_PLAY);t&&this.node.parent.parent.getComponent(p.GameManager).OnClickGameLoad(this.node,t)},e.prototype.onClickSound=function(){a.default.Instance.AudioEffect_touch()},r([u],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../LoadPrefab/PrefabManager":"PrefabManager","../audio/PlayAuido":"PlayAuido","../audio/config":"config","../maingame/GameManager":"GameManager"}],IconBgGroupManager:[function(t,e,o){"use strict";cc._RF.push(e,"21abblH2DZLYpZZDg5qUbL1","IconBgGroupManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../audio/config"),c=t("../iconTetris/iconBase"),s=t("../iconTetris/iconBgBase"),p=t("./NhapMangCollider"),l=t("../PoolManager/PoolManager"),u=t("./IconTetrisMove"),h=t("./TetrisColliderControler"),d=cc._decorator,f=d.ccclass,_=d.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hang=20,e.cot=20,e.arr_checkTetris=[],e.countColliderNhapMang=0,e.countColiierNhapMang_iconBg=0,e.countIconTetrisFalling=0,e.countIcontetrisFallingEnd=0,e.countHangFull=0,e.isAllIconTetrisFallEnd=!1,e.IconIndexStart=0,e.sumAllIconTetrisFallingStart=0,e.sumAllIconTetrisFallingEnd=0,e.countRemoveHangIconFull=0,e.arr_seachingIconIndex=[],e.isLoseGame=!1,e.PoolMagager=null,e}return i(e,t),e.prototype.EmitToCenterGroupMain=function(t,e){var o=this.node.children;if(e.parent&&e.removeFromParent(),o[t].addChild(e),e.setPosition(0,0),cc.log("child index",t),e.getChildByName(a.NODE_NAME.COLLIDER_VA_CHAM).group="Mang",e.getComponent(c.default).SetIconTetrisStatus(a.TETRIS_STATUS.TETRIS_BG_ICON),e.getChildByName(a.NODE_NAME.COLLIDER_VA_CHAM).getComponent(h.default).enabled=!1,e.getChildByName(a.NODE_NAME.COLLIDER_NHAP_MANG).getComponent(cc.CircleCollider).enabled=!1,e.getChildByName(a.NODE_NAME.COLLIDER_NHAP_MANG).getComponent(p.default).enabled=!1,e.getComponent(c.default).SetIconGlow(!0),o[t].getComponent(s.default).SetTetrisStatus(1),cc.log("tetrisBgstatus",o[t].getComponent(s.default).GetTetrisStatus()),cc.log("tetrisBgindex",o[t].getSiblingIndex()),this.countColliderNhapMang++,4==this.countColliderNhapMang){for(var n=this.node.children,i=0;i<this.hang;i++)for(var r=0;r<this.cot;r++){var l=i*this.hang+r;if(n[l].getChildByName(a.NODE_NAME.ICON_NAME))for(var u=n[l].getChildByName(a.NODE_NAME.ICON_NAME).getChildByName(a.NODE_NAME.COLLIDER_LEFT_RIGHT).children,d=0;d<u.length;d++)u[d].group!=a.GROUP_NAME.LEFT_RIGHT_GROUP&&(u[d].group=a.GROUP_NAME.LEFT_RIGHT_GROUP)}this.countColliderNhapMang=0,this.countIconTetrisFalling=0,this.countIcontetrisFallingEnd=0,this.ShowTetrisStatus()}},e.prototype.EmitToCenterGroupMain_tetrisIconInIconBG=function(t,e){var o=this.node.children;e.parent&&e.removeFromParent(),o[t].addChild(e),e.setPosition(0,0),e.getChildByName(a.NODE_NAME.COLLIDER_VA_CHAM).group="Mang",e.getChildByName(a.NODE_NAME.COLLIDER_VA_CHAM).getComponent(h.default).enabled=!1,e.getChildByName(a.NODE_NAME.COLLIDER_NHAP_MANG).getComponent(cc.CircleCollider).enabled=!1,e.getChildByName(a.NODE_NAME.COLLIDER_NHAP_MANG).getComponent(p.default).ResetCountCollider(),e.getChildByName(a.NODE_NAME.COLLIDER_NHAP_MANG).getComponent(p.default).enabled=!1,e.getComponent(c.default).SetIconTetrisStatus(a.TETRIS_STATUS.TETRIS_BG_ICON),e.getComponent(c.default).SetIconGlow(!0),o[t].getComponent(s.default).SetTetrisStatus(1),this.countColiierNhapMang_iconBg++,this.arr_seachingIconIndex.length==this.sumAllIconTetrisFallingEnd&&(this.countColiierNhapMang_iconBg=0,this.countIconTetrisFalling=0,this.countIcontetrisFallingEnd=0,this.sumAllIconTetrisFallingEnd=0,this.sumAllIconTetrisFallingStart=0,this.countRemoveHangIconFull=0,this.countHangFull=0,this.ShowTetrisStatus())},e.prototype.ShowTetrisStatus=function(){cc.log("showtetrisStatus"),this.arr_checkTetris=[];for(var t=this.node.children,e=0;e<this.hang;e++)for(var o=0,n=0;n<this.cot;n++){var i=e*this.hang+n,r=t[i].getComponent(s.default).GetTetrisStatus();1==r&&(o++,cc.log("tetrisBg index",i,r)),19==n&&this.arr_checkTetris.push(o)}this.CheckFullTetrisInHang()},e.prototype.CheckFullTetrisInHang=function(){cc.log("arr checktetris",this.arr_checkTetris);for(var t=this.arr_checkTetris.length-1;t>=0;t--)20==this.arr_checkTetris[t]&&(this.node.emit(a.GAME_LISTEN_TO_EVENTS.ADD_POINT,10),cc.log("full hang"),this.countHangFull++,this.RemoveAllTetrisInHang(t));0!=this.countHangFull?this.arr_checkTetris=[]:(this.arr_checkTetris=[],this.countIconTetrisFalling=0,this.countIcontetrisFallingEnd=0,this.sumAllIconTetrisFallingEnd=0,this.sumAllIconTetrisFallingStart=0,this.node.emit(a.GAME_LISTEN_TO_EVENTS.REMOVE_TETRIS_OLD))},e.prototype.RemoveAllTetrisInHang=function(t){cc.log("removeAlltetrisInHang"),this.countRemoveHangIconFull++;for(var e=this.node.children,o=this.hang-1;o>=0;o--)for(var n=0;n<this.cot;n++){var i=o*this.hang+n;if(t==o){var r=e[i].getChildByName("icon"),a=r.getComponent(c.default).GetColorIndex();this.PoolMagager.getComponent(l.default).PushIconInThePool(a,r),e[i].getComponent(s.default).SetTetrisStatus(0)}}this.countRemoveHangIconFull==this.countHangFull&&this.scheduleOnce(function(){this.SearchingIconTetris(20*t)},.1)},e.prototype.SearchingIconTetris=function(t){this.arr_seachingIconIndex=[];for(var e=this.node.children,o=0;o<e.length;o++)o<=t&&e[o].getChildByName(a.NODE_NAME.ICON_NAME)&&this.arr_seachingIconIndex.push(o);cc.log("seachingIconIndex",this.arr_seachingIconIndex),this.IconIndexStart=this.arr_seachingIconIndex.length-1,this.SetIconTetrisFalling(this.arr_seachingIconIndex[this.arr_seachingIconIndex.length-1])},e.prototype.SetIconTetrisFalling=function(t){this.countIconTetrisFalling=0,this.countIcontetrisFallingEnd=0;var e=this.node.children;if(e[t].getChildByName("icon")){this.countIconTetrisFalling++;var o=e[t].getChildByName("icon");e[t].getComponent(s.default).SetTetrisStatus(0),o.getComponent(u.default).SetIconTetrisFalling()}this.sumAllIconTetrisFallingStart+=this.countIconTetrisFalling},e.prototype.Count_TetrisFallingEnd=function(){if(this.countIcontetrisFallingEnd++,cc.log("counticontetrisfallingEnd",this.countIcontetrisFallingEnd),cc.log("counticontetrisfallingstart",this.countIconTetrisFalling),this.countIcontetrisFallingEnd==this.countIconTetrisFalling){this.IconIndexStart-=1;var t=this.arr_seachingIconIndex[this.IconIndexStart];this.sumAllIconTetrisFallingEnd+=this.countIcontetrisFallingEnd,cc.log("SumcounticontetrisfallingEnd",this.sumAllIconTetrisFallingEnd),cc.log("Sumcounticontetrisfallingstart",this.sumAllIconTetrisFallingStart),this.IconIndexStart>=0&&(this.SetIconTetrisFalling(t),cc.log("add colliderInIconBg"),this.addColliderInIconBG())}},e.prototype.addColliderInIconBG=function(){for(var t=this.node.children,e=0;e<t.length;e++)if(t[e].getChildByName(a.NODE_NAME.ICON_NAME)){var o=t[e].getChildByName(a.NODE_NAME.ICON_NAME);o.getComponent(u.default).GetFallingStatus()==a.FALLING_STATUS.STOP&&(o.getChildByName(a.NODE_NAME.COLLIDER_NHAP_MANG).getComponent(p.default).enabled=!0)}},e.prototype.LoseGame=function(){cc.log("lose game"),this.isLoseGame=!0,this.ResetAllProperties(),this.node.emit(a.GAME_LISTEN_TO_EVENTS.LOSE_GAME)},e.prototype.ResetAllProperties=function(){this.arr_checkTetris=[],this.countColliderNhapMang=0,this.countColiierNhapMang_iconBg=0,this.countIconTetrisFalling=0,this.countIcontetrisFallingEnd=0,this.countHangFull=0,this.isAllIconTetrisFallEnd=!1,this.IconIndexStart=0,this.sumAllIconTetrisFallingStart=0,this.sumAllIconTetrisFallingEnd=0,this.countRemoveHangIconFull=0,this.arr_seachingIconIndex=[]},r([_(cc.Node)],e.prototype,"PoolMagager",void 0),r([f],e)}(cc.Component);o.default=g,cc._RF.pop()},{"../PoolManager/PoolManager":"PoolManager","../audio/config":"config","../iconTetris/iconBase":"iconBase","../iconTetris/iconBgBase":"iconBgBase","./IconTetrisMove":"IconTetrisMove","./NhapMangCollider":"NhapMangCollider","./TetrisColliderControler":"TetrisColliderControler"}],IconTetrisGroupManager:[function(t,e,o){"use strict";cc._RF.push(e,"a18625G+mNFJLSsOWTs8WOv","IconTetrisGroupManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../audio/config"),c=cc._decorator,s=c.ccclass,p=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.countCallFromCollider_vaCham_left=0,e.countCallFromCollider_vaCham_right=0,e.countCallFromCollider_vaCham_bottom=0,e}return i(e,t),e.prototype.start=function(){for(var t=this.node.children,e=0;e<t.length;e++)t[0].children[0].getChildByName(a.NODE_NAME.COLLIDER_VA_CHAM)},e.prototype.EmitToTetrisMain_setLockMovingToLeft=function(){this.countCallFromCollider_vaCham_left++,1==this.countCallFromCollider_vaCham_left&&(this.node.emit(a.GAME_LISTEN_TO_EVENTS.CHAM_CANH_TRAI,!0),this.node.emit(a.GAME_LISTEN_TO_EVENTS.CHAM_CANH_PHAI,!1))},e.prototype.EmitToTetrisMain_setLockMovingToRight=function(){this.countCallFromCollider_vaCham_right++,1==this.countCallFromCollider_vaCham_right&&(this.node.emit(a.GAME_LISTEN_TO_EVENTS.CHAM_CANH_PHAI,!0),this.node.emit(a.GAME_LISTEN_TO_EVENTS.CHAM_CANH_TRAI,!1))},e.prototype.EmitToTetrisMain_setLockFallingToBottom=function(){this.countCallFromCollider_vaCham_bottom++,1==this.countCallFromCollider_vaCham_bottom&&(cc.log("GAME_LISTEN_TO_EVENTS.CHAM_CANH_DUOI"),this.node.emit(a.GAME_LISTEN_TO_EVENTS.CHAM_CANH_DUOI,!0))},e.prototype.ResetCount_left=function(){this.countCallFromCollider_vaCham_left=0},e.prototype.ResetCount_right=function(){this.countCallFromCollider_vaCham_right=0},e.prototype.ResetCount_bottom=function(){this.countCallFromCollider_vaCham_bottom=0},e.prototype.ResetAllProperties=function(){this.ResetCount_right(),this.ResetCount_left(),this.ResetCount_bottom()},r([s],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../audio/config":"config"}],IconTetrisMove:[function(t,e,o){"use strict";cc._RF.push(e,"761c0ymdAtOYqBfGGPIYECj","IconTetrisMove");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../audio/config"),c=t("./IconBgGroupManager"),s=t("./TetrisColliderControler"),p=cc._decorator,l=p.ccclass,u=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Falling_status=a.FALLING_STATUS.NO_STATUS,e.speedFalling=10,e.dx=0,e.dy=1,e.StartPos=new cc.Vec3(0,0),e.endPos=new cc.Vec3(0,0,0),e.isMoving=!1,e.isLockMovingLeft=!1,e.isLockMovingRight=!1,e.isLockFallingToBottom=!1,e}return i(e,t),e.prototype.start=function(){this.RegisterEvent()},e.prototype.RegisterEvent=function(){},e.prototype.SetIconTetrisFalling=function(){this.SetIconFalling(),this.Falling_status=a.FALLING_STATUS.FALLING},e.prototype.update=function(){var t=this.node.getPosition(),e=new cc.Vec3(t.x+this.speedFalling*this.dx,t.y+this.speedFalling*this.dy,0);if(this.Falling_status==a.FALLING_STATUS.FALLING)this.node.setPosition(e),this.SetFalling(this.node.position);else if(this.Falling_status==a.FALLING_STATUS.STOP)return},e.prototype.StopFalling=function(){this.Falling_status=a.FALLING_STATUS.STOP,this.node.parent.parent.getComponent(c.default).Count_TetrisFallingEnd()},e.prototype.GetFallingStatus=function(){return this.Falling_status},e.prototype.SetFalling=function(t){t.y>=-1200?(this.dy=-1,this.dx=0):(this.dy=0,this.dx=0,this.speedFalling=10,this.Falling_status=a.FALLING_STATUS.STOP)},e.prototype.ResetAllProperties=function(){this.Falling_status=a.FALLING_STATUS.NO_STATUS},e.prototype.SetIconFalling=function(){var t=this.node.getChildByName(a.NODE_NAME.COLLIDER_VA_CHAM),e=this.node.getChildByName(a.NODE_NAME.COLLIDER_NHAP_MANG);t.getComponent(s.default).enabled=!0,e.getComponent(cc.CircleCollider).enabled=!0,t.group="tetrisGroup"},r([l],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../audio/config":"config","./IconBgGroupManager":"IconBgGroupManager","./TetrisColliderControler":"TetrisColliderControler"}],LoadImages:[function(t,e,o){"use strict";cc._RF.push(e,"0ccfcJWy3RIUZpMyvd02BfQ","LoadImages");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var o;return i(e,t),o=e,Object.defineProperty(e,"Instance",{get:function(){return null==this.instance&&(this.instance=new o),this.instance},enumerable:!1,configurable:!0}),e.prototype.LoadingImages=function(t,e,o){var n=t+e;cc.loader.loadRes(n,cc.Texture2D,function(t,e){if(t)console.error("Error loading sprite frame:",t);else{var n=new cc.SpriteFrame(e);o(n)}})},e.instance=null,o=r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],LoadingContro:[function(t,e,o){"use strict";cc._RF.push(e,"c09baxbMglBzZWa8UHktKaW","LoadingContro");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../audio/AudioLoader"),c=t("../LoadPrefab/PrefabManager"),s=t("../audio/config"),p=t("../maingame/GameManager"),l=cc._decorator,u=l.ccclass,h=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bar=null,e.BarMaxValue=2e4,e.isbarStart=!1,e.countUpdate=0,e.number_checkbar=0,e.isLoadingPrefab=!1,e.isLoadingAudioClip=!1,e}return i(e,t),e.prototype.onLoad=function(){var t=this;a.default.preloadAllAudioClips(function(){cc.log("\u0110\xe3 t\u1ea3i xong to\xe0n b\u1ed9 \xe2m thanh."),t.isLoadingAudioClip=!0}),c.default.loadBundleAndPrefab(function(){cc.log("\u0111\xe3 t\u1ea3i xong to\xe0n b\u1ed9 prefab"),t.isLoadingPrefab=!0})},e.prototype.start=function(){this.isbarStart=!0},e.prototype.InitBar=function(){var t=this,e=this.getRandomInteger(50,500);this.number_checkbar+=e;var o=e/this.BarMaxValue;this.bar.progress+=o,this.number_checkbar>=2e4&&(this.isbarStart=!1,cc.tween(this.node).delay(1).call(function(){t.isLoadingAudioClip&&t.isLoadingPrefab&&t.loadHomePrefab()}).start())},e.prototype.update=function(){this.isbarStart&&(this.countUpdate++,this.countUpdate%5==0&&this.InitBar())},e.prototype.getRandomInteger=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},e.prototype.loadHomePrefab=function(){var t=c.default.getPrefab(s.PREFAB_NAME.HOME_PREFAB);cc.log(t),t?this.node.parent.parent.getComponent(p.GameManager).MoveScreen(this.node,t):cc.log("kh\xf4ng l\u1ea5y \u0111\u01b0\u1ee3c n\xf3 r\u1ed3i")},r([h(cc.ProgressBar)],e.prototype,"bar",void 0),r([u],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../LoadPrefab/PrefabManager":"PrefabManager","../audio/AudioLoader":"AudioLoader","../audio/config":"config","../maingame/GameManager":"GameManager"}],LoseGameContro:[function(t,e,o){"use strict";cc._RF.push(e,"cbe07ZTgjZGepbnX+AQw3wg","LoseGameContro");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../LoadPrefab/PrefabManager"),c=t("../audio/PlayAuido"),s=t("../audio/config"),p=t("../maingame/GameManager"),l=cc._decorator,u=l.ccclass,h=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.OnClickComeBackHome=function(){var t=a.default.getPrefab(s.PREFAB_NAME.HOME_PREFAB);t&&this.node.parent.parent.getComponent(p.GameManager).ComebackHome(t)},e.prototype.OnClickNextPlayGame=function(){this.node.parent.parent.getComponent(p.GameManager).NextGamePlay(),this.node.parent.parent.getComponent(p.GameManager).RemovePopup(this.node)},e.prototype.OnclickSound=function(){c.default.Instance.AudioEffect_touch()},r([u],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../LoadPrefab/PrefabManager":"PrefabManager","../audio/PlayAuido":"PlayAuido","../audio/config":"config","../maingame/GameManager":"GameManager"}],Main:[function(t,e,o){"use strict";cc._RF.push(e,"dd8a5S1H6BNXYYt+3IyOvMA","Main");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.CardLog=void 0;var a=t("../CardGroup/BaseCard"),c=t("../gameData/SaveData"),s=t("../gameData/GameData"),p=t("./GameManager"),l=t("../audio/config"),u=t("../topGroup/TopGroupManager"),h=t("./GameControler"),d=t("../audio/PlayAuido"),f=t("../audio/AudioLoader"),_=t("../common/LoadImages"),g=t("../LoadPrefab/PrefabManager"),C=t("../centerGroupControler/CenterGroupControler"),m=t("../PoolManager/PoolManager"),y=cc._decorator,T=y.ccclass,S=y.property;o.CardLog=function(t,e){this.card=t,this.cell=e};var O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.PoolManager=null,e.TopManager=null,e.Temptransform=null,e.CardPrefab=null,e.StartPosition=null,e.BottomGroupNode=null,e.BG=null,e.CenterGroup=null,e.newGame=!1,e.isAuto=!1,e.gameData=new s.default,e.GameDataStack=[],e.audioPlay=null,e.isHindAuto=!1,e.startTimer_autoHind=0,e.startTimer_loseGame_newGame=0,e.startTimer_loseGame_loading=0,e.countSetHindAuto=0,e.timeDelayShowHind=3,e.isPauseCountHindAuto=!1,e.CheckGameState=l.CHECK_GAME_STATUS.NO_STATUS,e.check_cell_State=l.CHECK_CELL_STATUS.NO_STATUS,e.gamePlayState=l.GAMEPLAY_STATUS.NO_STATUS,e.isLoseGame_newGame=!1,e.isLoseGame_loadinggame=!1,e.pointWinGames=[],e.PositionStartIndexPosition=0,e.is_new_load_game=l.GAMEPLAY_STATUS.NO_STATUS,e.currentGameStateIndex=-1,e.loadScoreGame=[],e.isNewGameStart=!1,e}var o;return i(e,t),o=e,Object.defineProperty(e,"Instance",{get:function(){return null==this.instance&&(this.instance=new o),this.instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){var t=this;this.CheckSaveData(),f.default.preloadAllAudioClips(function(){cc.log("\u0110\xe3 t\u1ea3i xong to\xe0n b\u1ed9 \xe2m thanh."),t.PlayMusic()})},e.prototype.CheckSaveData=function(){if(cc.sys.localStorage.getItem("GameScoreData")){var t=cc.sys.localStorage.getItem("GameScoreData");t&&(this.loadScoreGame=JSON.parse(t)),cc.log("scoreGame",this.loadScoreGame)}else this.SavePointGame(1)},e.prototype.start=function(){cc.director.getCollisionManager().enabled=!0,this.EventRegister(),this.audioPlay=this.node.getComponent(d.default),this.PositionStartIndexPosition=this.StartPosition.getSiblingIndex()},e.prototype.EventRegister=function(){this.CenterGroup.on(l.GAME_LISTEN_TO_EVENTS.GUI_SHOW_TETRIS_NODE_NEXT,this.ShowTetrisIconNext,this),this.CenterGroup.on(l.GAME_LISTEN_TO_EVENTS.ADD_POINT,this.ShowPointGame,this),this.TopManager.on(l.GAME_LISTEN_TO_EVENTS.UP_SPEED_FALLING,this.UpSpeedFalling,this),this.CenterGroup.on(l.GAME_LISTEN_TO_EVENTS.LOSE_GAME,this.ShowWinGame,this)},e.prototype.onDisable=function(){},e.prototype.SaveDataGame=function(){var t=JSON.stringify(this.saveData,null,2);cc.sys.localStorage.setItem("GamePlayData",t)},e.prototype.LoadDataGame=function(){var t=localStorage.getItem("GamePlayData");return t?JSON.parse(t):null},e.prototype.StartGame=function(){this.isNewGameStart?this.CenterGroup.getComponent(C.default).RemoveAllPropertiesCenterGame():(this.PoolManager.getComponent(m.default).InitIconBgPool(),this.PoolManager.getComponent(m.default).InitPool(),this.PoolManager.getComponent(m.default).InitTetrisPool()),this.isNewGameStart=!0,this.SetIconBgGroup(),this.newGame&&this.is_new_load_game==l.GAMEPLAY_STATUS.NEW_GAME&&(this.gamePlayState=l.GAMEPLAY_STATUS.NEW_GAME,this.startTimer_loseGame_newGame=(new Date).getTime()/1e3),this.newGame=!1,this.isAuto=!1},e.prototype.SetIconBgGroup=function(){var t=this.CenterGroup.getComponent(C.default);t&&t.SetIConBgGroup(),this.TopManager.getComponent(u.default).SettimerStart(!0),this.TopManager.getComponent(u.default).InitTopInfo(),this.UpdateTopScore()},e.prototype.SaveGame=function(){var t;return(t=new c.SaveData).Init(this.gameData.score,this.gameData.time,this.gameData.move,this.gameData.undo,this.gameData.hint),t},e.prototype.ShowTetrisIconNext=function(t,e,o){cc.log("tetris next",t),this.TopManager.getComponent(u.default).ShowTetrisIconNext(t,e,o)},e.prototype.CleanTetrisIconNext=function(){this.TopManager.getComponent(u.default).RemoveTetrisIconNext()},e.prototype.UpSpeedFalling=function(t){this.CenterGroup.getComponent(C.default).UpSpeedFalling(t)},e.prototype.UpdateCountMove=function(){this.TopManager.getComponent(u.default).ShowCountMove(1),this.GetDataGame()},e.prototype.GetDataGame=function(){this.currentGameStateIndex++;var t=this.TopManager.getComponent(u.default).Game_Data;t&&this.gameData.Init(t.score,t.time,t.move,t.undo,t.hint);var e=this.SaveGame();this.SaveDataGame(),this.GameDataStack.push(e),this.isHindAuto&&(this.startTimer_autoHind=(new Date).getTime()/1e3,this.isPauseCountHindAuto=!0)},e.prototype.LoadEndShowGameData=function(t){this.RemoveAllChildsInCells();for(var e=0;e<t.Count();e++){var o=cc.instantiate(this.CardPrefab);if(o){o.position=this.StartPosition.position,this.Temptransform.addChild(o);var n=o.getComponent(a.BaseCard);n&&n.Init(t.infos[e].numberIndex,t.infos[e].type,this.Temptransform,this)}}this.gameData=new s.default,this.gameData.Init(t.score,t.time,t.move,t.undo,t.hint),this.UpdateTopGroup(t)},e.prototype.onUndoButtonClick=function(){if(this.GameDataStack.length>1){var t=this.GameDataStack[this.GameDataStack.length-2];this.GameDataStack.pop(),this.LoadEndShowGameData(t)}else 1==this.GameDataStack.length&&this.LoadEndShowGameData(this.GameDataStack[0])},e.prototype.RemoveAllChildsInCells=function(){},e.prototype.UpdateTopGroup=function(t){this.TopManager.getComponent(u.default).initAllInfo(t.score,t.move,t.time)},e.prototype.ToParentNode_showMenuGame=function(){var t=g.default.getPrefab(l.PREFAB_NAME.GAME_MENU);t&&this.node.parent.parent.getComponent(p.GameManager).ShowGamePopup(t)},e.prototype.SetOptions=function(){var t=g.default.getPrefab(l.PREFAB_NAME.OPTIONS);t&&this.node.parent.parent.getComponent(p.GameManager).ShowOptionsPopupAndSetDataOpstion(t)},e.prototype.ThemesSetting=function(t){var e=this;_.default.Instance.LoadingImages("Images/BG/",t.toString(),function(t){e.BG.getComponent(cc.Sprite).spriteFrame=t})},e.prototype.PlayMusic=function(){d.default.Instance.AudioMusic_background()},e.prototype.SavePointGame=function(t){this.pointWinGames.push(t);var e=JSON.stringify(this.pointWinGames,null,2);cc.sys.localStorage.setItem("GameScoreData",e)},e.prototype.LoadPointGame=function(){var t=localStorage.getItem("GameScoreData");return t?JSON.parse(t):null},e.prototype.GetRankScoreGame=function(t){for(var e=[],o=0,n=0;n<this.pointWinGames.length;n++)e.push(this.pointWinGames[n]);for(n=0;n<e.length-1;n++)for(var i=n+1;i<e.length;i++)if(e[n]<=e[i]){var r=e[n];e[n]=e[i],e[i]=r}for(n=0;n<e.length-1&&(o++,e[n]!=t);n++);return o},e.prototype.ShowWinGame=function(){this.CleanTetrisIconNext(),this.pointWinGames=this.LoadPointGame(),this.pointWinGames||(this.pointWinGames=[]);var t=this.TopManager.getComponent(u.default).Game_Data;this.SavePointGame(t.score),this.pointWinGames=this.LoadPointGame();var e=Math.max.apply(Math,this.pointWinGames),o=this.GetRankScoreGame(t.score),n=g.default.getPrefab(l.PREFAB_NAME.WIN_GAME);n&&this.node.parent.parent.getComponent(p.GameManager).ShowWinGameAndSetPoint(n,t.move,t.time,t.score,o,e)},e.prototype.UpdateTopScore=function(){this.loadScoreGame||(this.pointWinGames=[]);var t=0;this.CheckSaveData(),this.loadScoreGame&&(t=this.MaxArr(this.loadScoreGame),cc.log("topscore",t)),this.TopManager.getComponent(u.default).ShowTopScoreGame(t)},e.prototype.MaxArr=function(t){for(var e=t[0],o=0;o<t.length;o++)t[o]>=e&&(e=t[o]);return cc.log("max value",e),e},e.prototype.ShowLoseGame=function(){this.node.parent.getComponent(h.GameControler).OnLoseGame()},e.prototype.CheckLoseGame=function(){this.Check_Lose_Game()},e.prototype.Check_Lose_Game=function(){this.CheckGameState=l.CHECK_GAME_STATUS.CHECK_LOSE},e.prototype.SetNewGame=function(){this.newGame=!0,this.StartGame()},e.prototype.SetLoadingGame=function(){},e.prototype.ShowPointGame=function(t){this.TopManager.getComponent(u.default).InitScore(t)},e.prototype.update=function(){},e.instance=null,r([S(cc.Node)],e.prototype,"PoolManager",void 0),r([S(cc.Node)],e.prototype,"TopManager",void 0),r([S(cc.Node)],e.prototype,"Temptransform",void 0),r([S(cc.Prefab)],e.prototype,"CardPrefab",void 0),r([S(cc.Node)],e.prototype,"StartPosition",void 0),r([S(cc.Node)],e.prototype,"BottomGroupNode",void 0),r([S(cc.Node)],e.prototype,"BG",void 0),r([S(cc.Node)],e.prototype,"CenterGroup",void 0),o=r([T],e)}(cc.Component);o.default=O,cc._RF.pop()},{"../CardGroup/BaseCard":"BaseCard","../LoadPrefab/PrefabManager":"PrefabManager","../PoolManager/PoolManager":"PoolManager","../audio/AudioLoader":"AudioLoader","../audio/PlayAuido":"PlayAuido","../audio/config":"config","../centerGroupControler/CenterGroupControler":"CenterGroupControler","../common/LoadImages":"LoadImages","../gameData/GameData":"GameData","../gameData/SaveData":"SaveData","../topGroup/TopGroupManager":"TopGroupManager","./GameControler":"GameControler","./GameManager":"GameManager"}],MenuGameContro:[function(t,e,o){"use strict";cc._RF.push(e,"9fa0bjkxAtPA53+qmoXUmF1","MenuGameContro");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../audio/PlayAuido"),c=t("../audio/config"),s=t("../maingame/GameManager"),p=cc._decorator,l=p.ccclass,u=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.PopupHelps=null,e}return i(e,t),e.prototype.start=function(){this.PopupHelps.on(c.GAME_LISTEN_TO_EVENTS.DATA_CLOSE_HELP_POPUP,this.CloseNexPageNode,this)},e.prototype.onClickBackground=function(){this.node.parent.parent.getComponent(s.GameManager).RemovePopup(this.node)},e.prototype.OnClickButton_NewGame=function(){this.node.parent.parent.getComponent(s.GameManager).NewGameAndReplayGame(),this.node.parent.parent.getComponent(s.GameManager).RemovePopup(this.node)},e.prototype.OnClickButton_replay=function(){this.node.parent.parent.getComponent(s.GameManager).NewGameAndReplayGame(),this.node.parent.parent.getComponent(s.GameManager).RemovePopup(this.node)},e.prototype.OnClickButton_helps=function(){this.PopupHelps.active=!0},e.prototype.CloseNexPageNode=function(){this.PopupHelps.active=!1},e.prototype.OnClickSound=function(){a.default.Instance.AudioEffect_touch()},r([u(cc.Node)],e.prototype,"PopupHelps",void 0),r([l],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../audio/PlayAuido":"PlayAuido","../audio/config":"config","../maingame/GameManager":"GameManager"}],NexPageContro:[function(t,e,o){"use strict";cc._RF.push(e,"ed07bOmgKdBh7+GBHZlKd47","NexPageContro");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../common/LoadImages"),c=t("../audio/config"),s=t("../audio/PlayAuido"),p=cc._decorator,l=p.ccclass,u=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ImageNext=null,e.nextPageImg=1,e}return i(e,t),e.prototype.OnClickButton_close=function(){this.node.emit(c.GAME_LISTEN_TO_EVENTS.DATA_CLOSE_HELP_POPUP)},e.prototype.OnClickNextPage=function(){var t=this;this.nextPageImg+=1,a.default.Instance.LoadingImages("Images/IU/help/",this.nextPageImg.toString(),function(e){t.ImageNext.getComponent(cc.Sprite).spriteFrame=e}),6==this.nextPageImg&&(this.nextPageImg=1)},e.prototype.onClickSound=function(){s.default.Instance.AudioEffect_touch()},r([u(cc.Node)],e.prototype,"ImageNext",void 0),r([l],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../audio/PlayAuido":"PlayAuido","../audio/config":"config","../common/LoadImages":"LoadImages"}],NhapMangCollider:[function(t,e,o){"use strict";cc._RF.push(e,"b9cf6WYoBhES6OCGInz50FK","NhapMangCollider");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../audio/config"),c=t("../iconTetris/iconBase"),s=t("./IconBgGroupManager"),p=t("./IconTetrisMove"),l=t("./tetrisMove"),u=cc._decorator,h=u.ccclass,d=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.countColliderIconTetrisWithIconTetris=0,e}return i(e,t),e.prototype.onCollisionEnter=function(){},e.prototype.onCollisionStay=function(t){this.node.parent.getComponent(c.default).GetIconTetrisStatus()==a.TETRIS_STATUS.TETRIS_GROUP?11==t.tag&&this.node.parent.parent.parent.parent.getComponent(l.default).GetFallingStatus()==a.FALLING_STATUS.STOP&&(this.node.parent.parent.parent.parent.getComponent(l.default).RemoveLeftRightCollider(),this.node.parent.parent.parent.parent.getComponent(l.default).EmitCenterManager_nhapMang(this.node.parent,t.node.parent.getSiblingIndex())):this.node.parent.getComponent(c.default).GetIconTetrisStatus()==a.TETRIS_STATUS.TETRIS_BG_ICON&&11==t.tag&&this.node.parent.getComponent(p.default).GetFallingStatus()==a.FALLING_STATUS.STOP&&(this.countColliderIconTetrisWithIconTetris++,1==this.countColliderIconTetrisWithIconTetris&&t.node.parent.parent.getComponent(s.default).EmitToCenterGroupMain_tetrisIconInIconBG(t.node.parent.getSiblingIndex(),this.node.parent))},e.prototype.ResetCountCollider=function(){this.countColliderIconTetrisWithIconTetris=0},r([h],e)}(cc.Component));o.default=d,cc._RF.pop()},{"../audio/config":"config","../iconTetris/iconBase":"iconBase","./IconBgGroupManager":"IconBgGroupManager","./IconTetrisMove":"IconTetrisMove","./tetrisMove":"tetrisMove"}],NodeMoveWithParabol:[function(t,e,o){"use strict";cc._RF.push(e,"d23042vnSlNv5UgbWDU4nMs","NodeMoveWithParabol");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../audio/PlayAuido"),c=cc._decorator,s=c.ccclass,p=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.moveCompleteCallback=null,e.duration=.003,e.bezierPoints=[],e.controPointX=100,e.controPointY=150,e.valuePointMoving=50,e}return i(e,t),e.prototype.setMoveCompleteCallback=function(t){this.moveCompleteCallback=t},e.prototype.callMoveCompleteCallback=function(){this.moveCompleteCallback&&this.moveCompleteCallback()},e.prototype.calculateBezierPoints=function(t,e,o,n,i){for(var r=[],a=0;a<=i;a++){var c=a/i,s=Math.pow(1-c,3)*t.x+3*Math.pow(1-c,2)*c*e.x+3*(1-c)*Math.pow(c,2)*o.x+Math.pow(c,3)*n.x,p=Math.pow(1-c,3)*t.y+3*Math.pow(1-c,2)*c*e.y+3*(1-c)*Math.pow(c,2)*o.y+Math.pow(c,3)*n.y;r.push(cc.v2(s,p))}return r},e.prototype.moveToBezierPath=function(t){var e=this,o=this.node.parent.convertToWorldSpaceAR(this.node.position),n=t.parent.convertToWorldSpaceAR(t.position);if(0===this.bezierPoints.length&&o.x<n.x&&o.y>n.y){var i=this.node.getPosition(),r=this.getPostionInOtherNode(this.node,t),c=new cc.Vec2(i.x,i.y),s=new cc.Vec2(r.x,r.y),p=c.add(cc.v2(this.controPointX,-this.controPointY)),l=s.add(cc.v2(-this.controPointX,-this.controPointY)),u=this.valuePointMoving;this.bezierPoints=this.calculateBezierPoints(c,p,l,s,u)}else 0===this.bezierPoints.length&&o.x>n.x&&o.y<n.y?(i=this.node.getPosition(),r=this.getPostionInOtherNode(this.node,t),c=new cc.Vec2(i.x,i.y),s=new cc.Vec2(r.x,r.y),p=c.add(cc.v2(-this.controPointX,this.controPointY)),l=s.add(cc.v2(this.controPointX,this.controPointY)),u=this.valuePointMoving,this.bezierPoints=this.calculateBezierPoints(c,p,l,s,u)):0===this.bezierPoints.length&&o.x<n.x&&o.y<n.y?(i=this.node.getPosition(),r=this.getPostionInOtherNode(this.node,t),c=new cc.Vec2(i.x,i.y),s=new cc.Vec2(r.x,r.y),p=c.add(cc.v2(this.controPointX,this.controPointY)),l=s.add(cc.v2(-this.controPointX,this.controPointY)),u=this.valuePointMoving,this.bezierPoints=this.calculateBezierPoints(c,p,l,s,u)):0===this.bezierPoints.length&&o.x>n.x&&o.y>n.y?(i=this.node.getPosition(),r=this.getPostionInOtherNode(this.node,t),c=new cc.Vec2(i.x,i.y),s=new cc.Vec2(r.x,r.y),p=c.add(cc.v2(-this.controPointX,-this.controPointY)),l=s.add(cc.v2(this.controPointX,-this.controPointY)),u=this.valuePointMoving,this.bezierPoints=this.calculateBezierPoints(c,p,l,s,u)):0===this.bezierPoints.length&&o.x<n.x&&o.y==n.y?(i=this.node.getPosition(),r=this.getPostionInOtherNode(this.node,t),c=new cc.Vec2(i.x,i.y),s=new cc.Vec2(r.x,r.y),p=c.add(cc.v2(this.controPointX,this.controPointY)),l=s.add(cc.v2(-this.controPointX,this.controPointY)),u=this.valuePointMoving,this.bezierPoints=this.calculateBezierPoints(c,p,l,s,u)):0===this.bezierPoints.length&&o.x>n.x&&o.y==n.y?(i=this.node.getPosition(),r=this.getPostionInOtherNode(this.node,t),c=new cc.Vec2(i.x,i.y),s=new cc.Vec2(r.x,r.y),p=c.add(cc.v2(-this.controPointX,-this.controPointY)),l=s.add(cc.v2(this.controPointX,-this.controPointY)),u=this.valuePointMoving,this.bezierPoints=this.calculateBezierPoints(c,p,l,s,u)):0===this.bezierPoints.length&&o.x==n.x&&o.y>n.y?(i=this.node.getPosition(),r=this.getPostionInOtherNode(this.node,t),c=new cc.Vec2(i.x,i.y),s=new cc.Vec2(r.x,r.y),p=c.add(cc.v2(this.controPointX,-this.controPointY)),l=s.add(cc.v2(this.controPointX,this.controPointY)),u=this.valuePointMoving,this.bezierPoints=this.calculateBezierPoints(c,p,l,s,u)):0===this.bezierPoints.length&&o.x==n.x&&o.y<n.y&&(i=this.node.getPosition(),r=this.getPostionInOtherNode(this.node,t),c=new cc.Vec2(i.x,i.y),s=new cc.Vec2(r.x,r.y),p=c.add(cc.v2(-this.controPointX,this.controPointY)),l=s.add(cc.v2(-this.controPointX,-this.controPointY)),u=this.valuePointMoving,this.bezierPoints=this.calculateBezierPoints(c,p,l,s,u));if(this.bezierPoints.length>=0){var h=this.bezierPoints.shift(),d=new cc.Vec3(h.x,h.y,0);cc.tween(this.node).to(this.duration,{position:d}).call(function(){if(0==e.bezierPoints.length)return a.default.Instance.AudioEffect_swap(),void e.callMoveCompleteCallback();e.moveToBezierPath(t)}).start()}},e.prototype.getPostionInOtherNode=function(t,e){if(null==e.parent)return null;var o=e.parent.convertToWorldSpaceAR(e.getPosition());return t.parent.convertToNodeSpaceAR(o)},r([s],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../audio/PlayAuido":"PlayAuido"}],OnClickThemesContro:[function(t,e,o){"use strict";cc._RF.push(e,"5cf3349+2dN/6QbBjxljSpT","OnClickThemesContro");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../audio/PlayAuido"),c=t("./ThemesContro"),s=cc._decorator,p=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.OnClickIsThemes=function(){var t=parseInt(this.node.name,10);this.node.parent.parent.parent.getComponent(c.default).EmitToOptions(t)},e.prototype.OnClickSound=function(){a.default.Instance.AudioEffect_touch(),a.default.Instance.AudioEffect_hind()},r([p],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../audio/PlayAuido":"PlayAuido","./ThemesContro":"ThemesContro"}],OptisonContro:[function(t,e,o){"use strict";cc._RF.push(e,"8ee40xBg11GV7oiGb4K8F2B","OptisonContro");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../audio/PlayAuido"),c=t("../maingame/GameManager"),s=t("./SwapImgButtonContro"),p=cc._decorator,l=p.ccclass,u=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.button_music=null,e.button_sound=null,e.button_hind=null,e.ThemesSetting=null,e.countAllSettingType=null,e.countPlayMusic=0,e.countPlaySound=0,e.countPlayHind=0,e}return i(e,t),e.prototype.OnClickButtonMusic=function(){this.countPlayMusic+=1,1==this.countPlayMusic?a.default.Instance.AudioMusic_pause():2==this.countPlayMusic&&(a.default.Instance.AudioMusic_resume(),this.countPlayMusic=0)},e.prototype.OnClickButtonSound=function(){this.countPlaySound+=1,1==this.countPlaySound?a.default.Instance.AudioEffect_pauseAll():2==this.countPlaySound&&(a.default.Instance.AudioEffect_resumeAll(),this.countPlaySound=0)},e.prototype.OnClickButtonThemes=function(){this.ThemesSetting.active=!0},e.prototype.CloseThemesPopup=function(){this.ThemesSetting.active=!1},e.prototype.OnClickButtonHind=function(){this.countPlayHind+=1,1==this.countPlayHind?this.node.parent.parent.getComponent(c.GameManager).HindAutoStart():2==this.countPlayHind&&(this.node.parent.parent.getComponent(c.GameManager).HindAutoStop(),this.countPlayHind=0)},e.prototype.OnClickButton_close=function(){this.node.parent.parent.getComponent(c.GameManager).RemovePopupAndGetDataOptions(this.node)},e.prototype.OnClick_Sound=function(){a.default.Instance.AudioEffect_touch()},e.prototype.SetThemesToGameControler=function(t){this.node.parent.parent.getComponent(c.GameManager).ThemesSetting(t,this.node),this.CloseThemesPopup()},e.prototype.GetCountAllSettingType=function(){return this.countAllSettingType={count_setMusic:this.countPlayMusic,count_setSound:this.countPlaySound,count_setHind:this.countPlayHind}},e.prototype.SetOptionState=function(t){this.countPlayMusic=t.count_setMusic,this.countPlaySound=t.count_setSound,this.countPlayHind=t.count_setHind,0!=t.count_setMusic&&this.button_music.getComponent(s.default).SetButtonImageWithState(t.count_setMusic),0!=t.count_setSound&&this.button_sound.getComponent(s.default).SetButtonImageWithState(t.count_setSound),0!=t.count_setHind&&this.button_hind.getComponent(s.default).SetButtonImageWithState(t.count_setHind)},r([u(cc.Node)],e.prototype,"button_music",void 0),r([u(cc.Node)],e.prototype,"button_sound",void 0),r([u(cc.Node)],e.prototype,"button_hind",void 0),r([u(cc.Node)],e.prototype,"ThemesSetting",void 0),r([l],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../audio/PlayAuido":"PlayAuido","../maingame/GameManager":"GameManager","./SwapImgButtonContro":"SwapImgButtonContro"}],PlayAuido:[function(t,e,o){"use strict";cc._RF.push(e,"a7702Lh/HZMvJC0qtB0NAkw","PlayAuido");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./AudioLoader"),c=cc._decorator,s=c.ccclass,p=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isPlayAudioLoadingEND=!1,e.isPlayEffect=!0,e}var o;return i(e,t),o=e,Object.defineProperty(e,"Instance",{get:function(){return null==this.instance&&(this.instance=new o),this.instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){},e.prototype.getAudioClip=function(){a.default.getAudioClip("background")},e.prototype.playAudioOneShot=function(t){var e=a.default.getAudioClip(t);e?cc.audioEngine.playEffect(e,!1):cc.error("Kh\xf4ng t\xecm th\u1ea5y \xe2m thanh!")},e.prototype.PlayAudioMusic=function(t){var e=a.default.getAudioClip(t);e?cc.audioEngine.playMusic(e,!0):cc.error("Kh\xf4ng t\xecm th\u1ea5y \xe2m thanh!")},e.prototype.AudioMusic_background=function(){this.PlayAudioMusic("background")},e.prototype.AudioMusic_pause=function(){cc.audioEngine.pauseMusic()},e.prototype.AudioMusic_resume=function(){cc.audioEngine.resumeMusic()},e.prototype.AudioEffect_hind=function(){this.isPlayEffect&&this.playAudioOneShot("congrat")},e.prototype.AudioEffect_touch=function(){this.isPlayEffect&&this.playAudioOneShot("touch")},e.prototype.AudioEffect_swap=function(){this.isPlayEffect&&this.playAudioOneShot("swap")},e.prototype.AudioEffect_deal=function(){this.isPlayEffect&&this.playAudioOneShot("deal")},e.prototype.AuidoEffect_WinGame=function(){this.isPlayEffect&&this.playAudioOneShot("victory")},e.prototype.AudioEffect_LoseGame=function(){this.isPlayEffect&&this.playAudioOneShot("losegame")},e.prototype.AudioEffect_pauseAll=function(){this.isPlayEffect=!1},e.prototype.AudioEffect_resumeAll=function(){this.isPlayEffect=!0},e.instance=null,o=r([s],e)}(cc.Component));o.default=p,cc._RF.pop()},{"./AudioLoader":"AudioLoader"}],PoolManager:[function(t,e,o){"use strict";cc._RF.push(e,"c3aa5G4ZKhI6og/rPYZ3skG","PoolManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../audio/config"),c=t("../centerGroupControler/IconTetrisMove"),s=t("../centerGroupControler/NhapMangCollider"),p=t("../centerGroupControler/tetrisMove"),l=t("../iconTetris/IconTetrisGroupManager"),u=t("../iconTetris/iconBase"),h=t("../iconTetris/iconBgBase"),d=cc._decorator,f=d.ccclass,_=d.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.IconTetrisPrefab=null,e.Pool_iconRed=null,e.Pool_iconBlue=null,e.Pool_iconGreen=null,e.Pool_iconViolet=null,e.Pool_iconYellow=null,e.Pool_iconOrange=null,e.tetris1=null,e.tetris2=null,e.tetris3=null,e.tetris4=null,e.tetris5=null,e.tetris6=null,e.Group_tetris1=null,e.Group_tetris2=null,e.Group_tetris3=null,e.Group_tetris4=null,e.Group_tetris5=null,e.Group_tetris6=null,e.pool_red=[],e.pool_blue=[],e.pool_green=[],e.pool_violet=[],e.pool_yellow=[],e.pool_orange=[],e.pool_tetris1=[],e.pool_tetris2=[],e.pool_tetris3=[],e.pool_tetris4=[],e.pool_tetris5=[],e.pool_tetris6=[],e.iconBg=null,e.iconBgGroup=null,e.pool_iconBgGroup=[],e.pool_icontetris_Length=50,e.pool_tetris_length=20,e.Pool_iconBgGroup_length=50,e}var o;return i(e,t),o=e,e.prototype.start=function(){},e.prototype.InitPool=function(){this.InitPoolRed(),this.InitPoolGreen(),this.InitPoolBlue(),this.InitPoolViolet(),this.InitPoolYellow(),this.InitPoolOrange()},e.prototype.InitTetrisPool=function(){this.initPoolTetris1(),this.initPoolTetris2(),this.initPoolTetris3(),this.initPoolTetris4(),this.initPoolTetris5(),this.initPoolTetris6()},Object.defineProperty(e,"Instance",{get:function(){return null==this.instance&&(this.instance=new o),this.instance},enumerable:!1,configurable:!0}),e.prototype.InitIconBgPool=function(){for(var t=0;t<this.Pool_iconBgGroup_length;t++){var e=cc.instantiate(this.iconBg);e&&(this.iconBgGroup.addChild(e),this.pool_iconBgGroup.push(e),e.setPosition(0,0),e.active=!1)}},e.prototype.InitPoolRed=function(){this.PoolBase(a.ICON_TETRIS_COLOR.red,this.pool_red,this.Pool_iconRed)},e.prototype.InitPoolGreen=function(){this.PoolBase(a.ICON_TETRIS_COLOR.green,this.pool_green,this.Pool_iconGreen)},e.prototype.InitPoolBlue=function(){this.PoolBase(a.ICON_TETRIS_COLOR.blue,this.pool_blue,this.Pool_iconBlue)},e.prototype.InitPoolViolet=function(){this.PoolBase(a.ICON_TETRIS_COLOR.violet,this.pool_violet,this.Pool_iconViolet)},e.prototype.InitPoolYellow=function(){this.PoolBase(a.ICON_TETRIS_COLOR.yellow,this.pool_yellow,this.Pool_iconYellow)},e.prototype.InitPoolOrange=function(){this.PoolBase(a.ICON_TETRIS_COLOR.orange,this.pool_orange,this.Pool_iconOrange)},e.prototype.initPoolTetris1=function(){this.PoolTetrisBase(this.tetris1,this.pool_tetris1,this.Group_tetris1)},e.prototype.initPoolTetris2=function(){this.PoolTetrisBase(this.tetris2,this.pool_tetris2,this.Group_tetris2)},e.prototype.initPoolTetris3=function(){this.PoolTetrisBase(this.tetris3,this.pool_tetris3,this.Group_tetris3)},e.prototype.initPoolTetris4=function(){this.PoolTetrisBase(this.tetris4,this.pool_tetris4,this.Group_tetris4)},e.prototype.initPoolTetris5=function(){this.PoolTetrisBase(this.tetris5,this.pool_tetris5,this.Group_tetris5)},e.prototype.initPoolTetris6=function(){this.PoolTetrisBase(this.tetris6,this.pool_tetris6,this.Group_tetris6)},e.prototype.PoolBase=function(t,e,o){for(var n=0;n<this.pool_icontetris_Length;n++){var i=cc.instantiate(this.IconTetrisPrefab);i&&(i.getComponent(u.default).Init_iconTetris(t),o.addChild(i),e.push(i),i.setPosition(0,0),i.active=!1)}},e.prototype.PoolTetrisBase=function(t,e,o){for(var n=0;n<this.pool_tetris_length;n++){var i=cc.instantiate(t);i&&(o.addChild(i),e.push(i),i.setPosition(0,0),i.active=!1)}},e.prototype.GetIconBgTetrisNode=function(){if(this.pool_iconBgGroup.length>0){var t=this.pool_iconBgGroup.pop();return this.ResetIconBgNodeToOrigin(t),t}return this.CreateIconBgNode(),t=this.pool_iconBgGroup.pop(),this.ResetIconBgNodeToOrigin(t),t},e.prototype.GetIconNodeFromPool=function(t){if(0==t){if(this.pool_red.length>0){var e=this.pool_red.pop();return this.SetColliderLeftRightDefault(e),e}return this.CreateIconNode(a.ICON_TETRIS_COLOR.red,this.pool_red,this.Pool_iconRed),e=this.pool_red.pop(),this.SetColliderLeftRightDefault(e),e}return 2==t?this.pool_blue.length>0?(e=this.pool_blue.pop(),this.SetColliderLeftRightDefault(e),e):(this.CreateIconNode(a.ICON_TETRIS_COLOR.blue,this.pool_blue,this.Pool_iconBlue),e=this.pool_blue.pop(),this.SetColliderLeftRightDefault(e),e):3==t?this.pool_green.length>0?(e=this.pool_green.pop(),this.SetColliderLeftRightDefault(e),e):(this.CreateIconNode(a.ICON_TETRIS_COLOR.green,this.pool_green,this.Pool_iconGreen),e=this.pool_green.pop(),this.SetColliderLeftRightDefault(e),e):5==t?this.pool_orange.length>0?(e=this.pool_orange.pop(),this.SetColliderLeftRightDefault(e),e):(this.CreateIconNode(a.ICON_TETRIS_COLOR.orange,this.pool_orange,this.Pool_iconOrange),e=this.pool_orange.pop(),this.SetColliderLeftRightDefault(e),e):1==t?this.pool_yellow.length>0?(e=this.pool_yellow.pop(),this.SetColliderLeftRightDefault(e),e):(this.CreateIconNode(a.ICON_TETRIS_COLOR.yellow,this.pool_yellow,this.Pool_iconYellow),e=this.pool_yellow.pop(),this.SetColliderLeftRightDefault(e),e):4==t?this.pool_violet.length>0?(e=this.pool_violet.pop(),this.SetColliderLeftRightDefault(e),e):(this.CreateIconNode(a.ICON_TETRIS_COLOR.violet,this.pool_violet,this.Pool_iconViolet),e=this.pool_violet.pop(),this.SetColliderLeftRightDefault(e),e):void 0},e.prototype.GetTetrisNodefromPool=function(t){if(1==t){if(this.pool_tetris1.length>0){var e=this.pool_tetris1.pop();for(this.ResetTetrisNodeToOrigin(e);0==this.CheckNametetrisNode(t,e);){var o=this.FilterOutNumber(e.name);cc.log("set nham con tetris ",o),this.PushTetrisNodeThePool(o,e),e=this.pool_tetris1.pop()}return e}return this.CreateTetrisNode(this.tetris1,this.pool_tetris1,this.Group_tetris1),e=this.pool_tetris1.pop(),this.ResetTetrisNodeToOrigin(e),e}if(2==t){if(this.pool_tetris2.length>0){for(e=this.pool_tetris2.pop(),this.ResetTetrisNodeToOrigin(e);0==this.CheckNametetrisNode(t,e);)o=this.FilterOutNumber(e.name),cc.log("set nham con tetris ",o),this.PushTetrisNodeThePool(o,e),e=this.pool_tetris2.pop();return e}return this.CreateTetrisNode(this.tetris2,this.pool_tetris2,this.Group_tetris2),e=this.pool_tetris2.pop(),this.ResetTetrisNodeToOrigin(e),e}if(3==t){if(this.pool_tetris3.length>0){for(e=this.pool_tetris3.pop(),this.ResetTetrisNodeToOrigin(e);0==this.CheckNametetrisNode(t,e);)o=this.FilterOutNumber(e.name),cc.log("set nham con tetris ",o),this.PushTetrisNodeThePool(o,e),e=this.pool_tetris3.pop();return e}return this.CreateTetrisNode(this.tetris3,this.pool_tetris3,this.Group_tetris3),e=this.pool_tetris3.pop(),this.ResetTetrisNodeToOrigin(e),e}if(4==t){if(this.pool_tetris4.length>0){for(e=this.pool_tetris4.pop(),this.ResetTetrisNodeToOrigin(e);0==this.CheckNametetrisNode(t,e);)o=this.FilterOutNumber(e.name),cc.log("set nham con tetris ",o),this.PushTetrisNodeThePool(o,e),e=this.pool_tetris4.pop();return e}return this.CreateTetrisNode(this.tetris4,this.pool_tetris4,this.Group_tetris4),e=this.pool_tetris4.pop(),this.ResetTetrisNodeToOrigin(e),e}if(5==t){if(this.pool_tetris5.length>0){for(e=this.pool_tetris5.pop(),this.ResetTetrisNodeToOrigin(e);0==this.CheckNametetrisNode(t,e);)o=this.FilterOutNumber(e.name),cc.log("set nham con tetris ",o),this.PushTetrisNodeThePool(o,e),e=this.pool_tetris5.pop();return e}return this.CreateTetrisNode(this.tetris5,this.pool_tetris5,this.Group_tetris5),e=this.pool_tetris5.pop(),this.ResetTetrisNodeToOrigin(e),e}if(6==t){if(this.pool_tetris6.length>0){for(e=this.pool_tetris6.pop(),this.ResetTetrisNodeToOrigin(e);0==this.CheckNametetrisNode(t,e);)o=this.FilterOutNumber(e.name),cc.log("set nham con tetris ",o),this.PushTetrisNodeThePool(o,e),e=this.pool_tetris6.pop();return e}return this.CreateTetrisNode(this.tetris6,this.pool_tetris6,this.Group_tetris6),e=this.pool_tetris6.pop(),this.ResetTetrisNodeToOrigin(e),e}},e.prototype.PushIconBgNode=function(t){t.parent&&t.removeFromParent(),this.pool_iconBgGroup.push(t),this.iconBgGroup.addChild(t),t.setPosition(0,0),t.active=!1,cc.log("pool_iconBgGroup",this.pool_iconBgGroup),cc.log("iconBgGroup",this.iconBgGroup)},e.prototype.PushIconInThePool=function(t,e){cc.log("push icon in the pool"),t==a.ICON_TETRIS_COLOR.red?(e.parent&&e.removeFromParent(),this.Pool_iconRed.addChild(e),this.pool_red.push(e),e.setPosition(0,0),e.active=!1):t==a.ICON_TETRIS_COLOR.blue?(e.parent&&e.removeFromParent(),this.Pool_iconBlue.addChild(e),this.pool_blue.push(e),e.setPosition(0,0),e.active=!1):t==a.ICON_TETRIS_COLOR.green?(e.parent&&e.removeFromParent(),this.Pool_iconGreen.addChild(e),this.pool_green.push(e),e.setPosition(0,0),e.active=!1):t==a.ICON_TETRIS_COLOR.orange?(e.parent&&e.removeFromParent(),this.Pool_iconOrange.addChild(e),this.pool_orange.push(e),e.setPosition(0,0),e.active=!1):t==a.ICON_TETRIS_COLOR.yellow?(e.parent&&e.removeFromParent(),this.Pool_iconYellow.addChild(e),this.pool_yellow.push(e),e.setPosition(0,0),e.active=!1):t==a.ICON_TETRIS_COLOR.violet&&(e.parent&&e.removeFromParent(),this.Pool_iconViolet.addChild(e),this.pool_violet.push(e),e.setPosition(0,0),e.active=!1)},e.prototype.PushTetrisNodeThePool=function(t,e){1==t?(e.parent&&e.removeFromParent(),this.Group_tetris1.addChild(e),this.pool_tetris1.push(e),e.setPosition(0,0,0),e.active=!1):2==t?(e.parent&&e.removeFromParent(),this.Group_tetris2.addChild(e),this.pool_tetris2.push(e),e.setPosition(0,0,0),e.active=!1):3==t?(e.parent&&e.removeFromParent(),this.Group_tetris3.addChild(e),this.pool_tetris3.push(e),e.setPosition(0,0,0),e.active=!1):4==t?(e.parent&&e.removeFromParent(),this.Group_tetris4.addChild(e),this.pool_tetris4.push(e),e.setPosition(0,0,0),e.active=!1):5==t?(e.parent&&e.removeFromParent(),this.Group_tetris5.addChild(e),this.pool_tetris5.push(e),e.setPosition(0,0,0),e.active=!1):6==t&&(e.parent&&e.removeFromParent(),this.Group_tetris6.addChild(e),this.pool_tetris6.push(e),e.setPosition(0,0,0),e.active=!1)},e.prototype.CreateIconNode=function(t,e,o){var n=cc.instantiate(this.IconTetrisPrefab);n&&(n.getComponent(u.default).Init_iconTetris(t),o.addChild(n),e.push(n),n.setPosition(0,0),n.active=!1)},e.prototype.CreateTetrisNode=function(t,e,o){var n=cc.instantiate(t);n&&(o.addChild(n),e.push(n),n.setPosition(0,0),n.active=!1)},e.prototype.CreateIconBgNode=function(){var t=cc.instantiate(this.iconBg);t&&(this.iconBgGroup.addChild(t),this.pool_iconBgGroup.push(t),t.setPosition(0,0),t.active=!1)},e.prototype.SetColliderLeftRightDefault=function(t){this.ResetIconTetrisNodeToOrigin(t);for(var e=t.getChildByName(a.NODE_NAME.COLLIDER_LEFT_RIGHT).children,o=0;o<e.length;o++)e[o].group=a.GROUP_NAME.DEFAULT_GROUP},e.prototype.ResetTetrisNodeToOrigin=function(t){if(t.getComponent(p.default)?t.getComponent(p.default).ResetAllProperties():(t.addComponent(p.default),t.getComponent(p.default).ResetAllProperties()),t.getChildByName(a.NODE_NAME.ICON_TETRIS_GROUP)){var e=t.getChildByName(a.NODE_NAME.ICON_TETRIS_GROUP);e.getComponent(l.default)?e.getComponent(l.default).ResetAllProperties():(e.addComponent(l.default),e.getComponent(l.default).ResetAllProperties())}0!=-this.node.angle&&(cc.log("set angle for tetris node"),t.angle=0)},e.prototype.ResetIconTetrisNodeToOrigin=function(t){var e=t.getChildByName(a.NODE_NAME.COLLIDER_NHAP_MANG);0==e.getComponent(cc.CircleCollider).enabled&&(e.getComponent(cc.CircleCollider).enabled=!0),t.getComponent(u.default)&&t.getComponent(u.default).ResetAllProperties(),t.getChildByName(a.NODE_NAME.COLLIDER_NHAP_MANG).getComponent(s.default)&&t.getChildByName(a.NODE_NAME.COLLIDER_NHAP_MANG).removeComponent(s.default),t.getComponent(c.default)&&t.getComponent(c.default).ResetAllProperties()},e.prototype.ResetIconBgNodeToOrigin=function(t){t.getComponent(h.default)&&t.getComponent(h.default).SetTetrisStatus(0),t.getChildByName(a.NODE_NAME.CIRCLE_COLLIDER)&&(t.getChildByName(a.NODE_NAME.CIRCLE_COLLIDER).getComponent(cc.CircleCollider).enabled=!0)},e.prototype.CheckNametetrisNode=function(t,e){return"tetris"+t===e.name},e.prototype.FilterOutNumber=function(t){return parseInt(t.match(/\d+/)[0])},e.instance=null,r([_(cc.Prefab)],e.prototype,"IconTetrisPrefab",void 0),r([_(cc.Node)],e.prototype,"Pool_iconRed",void 0),r([_(cc.Node)],e.prototype,"Pool_iconBlue",void 0),r([_(cc.Node)],e.prototype,"Pool_iconGreen",void 0),r([_(cc.Node)],e.prototype,"Pool_iconViolet",void 0),r([_(cc.Node)],e.prototype,"Pool_iconYellow",void 0),r([_(cc.Node)],e.prototype,"Pool_iconOrange",void 0),r([_(cc.Prefab)],e.prototype,"tetris1",void 0),r([_(cc.Prefab)],e.prototype,"tetris2",void 0),r([_(cc.Prefab)],e.prototype,"tetris3",void 0),r([_(cc.Prefab)],e.prototype,"tetris4",void 0),r([_(cc.Prefab)],e.prototype,"tetris5",void 0),r([_(cc.Prefab)],e.prototype,"tetris6",void 0),r([_(cc.Node)],e.prototype,"Group_tetris1",void 0),r([_(cc.Node)],e.prototype,"Group_tetris2",void 0),r([_(cc.Node)],e.prototype,"Group_tetris3",void 0),r([_(cc.Node)],e.prototype,"Group_tetris4",void 0),r([_(cc.Node)],e.prototype,"Group_tetris5",void 0),r([_(cc.Node)],e.prototype,"Group_tetris6",void 0),r([_(cc.Prefab)],e.prototype,"iconBg",void 0),r([_(cc.Node)],e.prototype,"iconBgGroup",void 0),o=r([f],e)}(cc.Component);o.default=g,cc._RF.pop()},{"../audio/config":"config","../centerGroupControler/IconTetrisMove":"IconTetrisMove","../centerGroupControler/NhapMangCollider":"NhapMangCollider","../centerGroupControler/tetrisMove":"tetrisMove","../iconTetris/IconTetrisGroupManager":"IconTetrisGroupManager","../iconTetris/iconBase":"iconBase","../iconTetris/iconBgBase":"iconBgBase"}],PrefabManager:[function(t,e,o){"use strict";cc._RF.push(e,"8ee179OejRGVJqyuaBz5HsL","PrefabManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.loadBundleAndPrefab=function(t){var e=this;cc.assetManager.loadBundle(this.bundleName,function(o,n){o?console.error("Error loading bundle:",o):n.loadDir("",cc.Prefab,function(o,n){o?console.error("Error loading prefab:",o):(n.forEach(function(t){console.log("loadPrefab success");var o=t.name;e.prefabCache[o]=t}),cc.log(e.prefabCache),t())})})},e.getPrefab=function(t){return this.prefabCache[t]||null},e.prefabCache={},e.bundleName="prefabs",r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],ProgressBarControler:[function(t,e,o){"use strict";cc._RF.push(e,"6b3b5n/KqlHt4NqUTEqz7aJ","ProgressBarControler");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],SaveData:[function(t,e,o){"use strict";cc._RF.push(e,"1430diZveRAtKsgm6qeWa8s","SaveData");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.GameSave=o.SaveData=o.CardInfo=void 0;var a,c=t("../maingame/Main"),s=cc._decorator,p=s.ccclass;s.property,function(t){t[t.CELL=0]="CELL",t[t.FREE=1]="FREE",t[t.ACE=2]="ACE"}(a||(a={}));var l=function(t,e,o){this.type=t,this.numberIndex=e,this.cell=o};o.CardInfo=l;var u=function(t){function e(){var e=t.call(this)||this;return e.infos=[],e.score=0,e.time=0,e.move=0,e.undo=0,e.hint=0,e}return i(e,t),e.prototype.Init=function(t,e,o,n,i){this.score=t,this.time=e,this.move=o,this.undo=n,this.hint=i},e.prototype.Count=function(){return this.infos.length},e.prototype.getInfosArr=function(t){return this.infos[t]},e.prototype.setInfosArr=function(t,e){this.infos[t]=e},e.prototype.AddCardInfor_Arr=function(t){this.infos.push(t)},e.prototype.AddCardInfo=function(t,e,o){var n;n=new l(t,e,o),this.AddCardInfor_Arr(n)},r([p],e)}(cc.Component);o.SaveData=u;var h=function(){function t(){document.addEventListener("visibilitychange",this.handleVisibilityChange.bind(this)),window.addEventListener("beforeunload",this.handleBeforeUnload.bind(this))}return Object.defineProperty(t,"Instance",{get:function(){return null==this.instance&&(this.instance=new t),this.instance},enumerable:!1,configurable:!0}),t.prototype.SaveGame=function(){this.saveData=c.default.Instance.SaveGame();var t=JSON.stringify(this.saveData,null,2);cc.sys.localStorage.setItem("GamePlayData",t)},t.prototype.LoadGame=function(){var t=localStorage.getItem("GamePlayData");return t?JSON.parse(t):null},t.prototype.handleVisibilityChange=function(){document.hidden&&this.SaveGame()},t.prototype.handleBeforeUnload=function(){this.SaveGame()},t.instance=null,t}();o.GameSave=h,cc._RF.pop()},{"../maingame/Main":"Main"}],SetSIzeNodeConformScreen:[function(t,e,o){"use strict";cc._RF.push(e,"0de21YdVZlLGLhx5KwYCWcK","SetSIzeNodeConformScreen");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.SCREEN_WIDTH=1280,e.SCREEN_HIGHT=720,e}return i(e,t),e.prototype.start=function(){this.SetSizeNode()},e.prototype.SetSizeNode=function(){var t=cc.winSize,e=t.width/this.SCREEN_WIDTH,o=t.height/this.SCREEN_HIGHT;this.node.setScale(e,o,0)},r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],Stack:[function(t,e){"use strict";cc._RF.push(e,"e9ea5SHZoZND6cmVmnAH9Us","Stack");var o=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},n=cc._decorator,i=n.ccclass;n.property,function(){function t(){this.items=[]}t.prototype.push=function(t){this.items.push(t)},t.prototype.pop=function(){return this.items.pop()},t.prototype.peek=function(){return this.items[this.items.length-1]},t.prototype.isEmpty=function(){return 0===this.items.length},t.prototype.clear=function(){this.items=[]},t.prototype.size=function(){return this.items.length},t=o([i],t)}(),cc._RF.pop()},{}],SwapImgButtonContro:[function(t,e,o){"use strict";cc._RF.push(e,"b337aGMXURES4z9nT3BLocd","SwapImgButtonContro");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../audio/PlayAuido"),c=t("../common/LoadImages"),s=cc._decorator,p=s.ccclass,l=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pathImgSwap="Images/IU/",e.buttonOff="toggleOff_on",e.buttonOn="toggleOn_on",e.buttonImg="",e.countSwap=0,e}return i(e,t),e.prototype.OnClickSwapButtonImg=function(){var t=this;a.default.Instance.AudioEffect_touch(),"Button_hind"==this.node.name?(this.countSwap+=1,1==this.countSwap?this.buttonImg=this.buttonOn:2==this.countSwap&&(this.buttonImg=this.buttonOff),c.default.Instance.LoadingImages(this.pathImgSwap,this.buttonImg,function(e){t.node.getComponent(cc.Sprite).spriteFrame=e}),2==this.countSwap&&(this.countSwap=0)):(this.countSwap+=1,1==this.countSwap?this.buttonImg=this.buttonOff:2==this.countSwap&&(this.buttonImg=this.buttonOn),c.default.Instance.LoadingImages(this.pathImgSwap,this.buttonImg,function(e){t.node.getComponent(cc.Sprite).spriteFrame=e}),2==this.countSwap&&(this.countSwap=0))},e.prototype.SetButtonImageWithState=function(t){var e=this;cc.log("set button images"),"Button_hind"==this.node.name?(1==t?(this.countSwap=1,this.buttonImg=this.buttonOn):2==t&&(this.countSwap=2,this.buttonImg=this.buttonOff),c.default.Instance.LoadingImages(this.pathImgSwap,this.buttonImg,function(t){e.node.getComponent(cc.Sprite).spriteFrame=t}),2==this.countSwap&&(this.countSwap=0)):(1==t?(cc.log("set button images = 1 off"),this.countSwap=1,this.buttonImg=this.buttonOff):2==t&&(this.countSwap=2,this.buttonImg=this.buttonOn),cc.log("loadImages"),c.default.Instance.LoadingImages(this.pathImgSwap,this.buttonImg,function(t){e.node.getComponent(cc.Sprite).spriteFrame=t}),2==this.countSwap&&(this.countSwap=0))},r([p],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../audio/PlayAuido":"PlayAuido","../common/LoadImages":"LoadImages"}],TetrisColliderControler:[function(t,e,o){"use strict";cc._RF.push(e,"0ee25/wrJxEjodaziSxYHJA","TetrisColliderControler");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../audio/config"),c=t("../iconTetris/IconTetrisGroupManager"),s=t("../iconTetris/iconBase"),p=t("./IconBgGroupManager"),l=t("./IconTetrisMove"),u=t("./tetrisMove"),h=cc._decorator,d=h.ccclass,f=(h.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onCollisionEnter=function(t,e){cc.log("vacham tetris"),1==t.tag&&this.node.parent.getComponent(s.default).GetIconTetrisStatus()==a.TETRIS_STATUS.TETRIS_GROUP?this.node.parent.parent.parent.getComponent(c.default).EmitToTetrisMain_setLockMovingToLeft():2==t.tag&&this.node.parent.getComponent(s.default).GetIconTetrisStatus()==a.TETRIS_STATUS.TETRIS_BG_ICON?(cc.log("lose game"),this.node.parent.parent.parent.getComponent(p.default).LoseGame()):3==t.tag&&this.node.parent.getComponent(s.default).GetIconTetrisStatus()==a.TETRIS_STATUS.TETRIS_GROUP?this.node.parent.parent.parent.getComponent(c.default).EmitToTetrisMain_setLockMovingToRight():4==t.tag?this.node.parent.getComponent(s.default).GetIconTetrisStatus()==a.TETRIS_STATUS.TETRIS_GROUP&&this.node.parent.parent.parent.parent.getComponent(u.default).GetFallingStatus()==a.FALLING_STATUS.FALLING?(cc.log("stop tetrisGroup cham day",this.node.parent.getComponent(s.default).GetColorName()),this.node.parent.parent.parent.parent.getComponent(u.default).StopFalling(),this.node.parent.parent.parent.getComponent(c.default).EmitToTetrisMain_setLockFallingToBottom()):this.node.parent.getComponent(s.default).GetIconTetrisStatus()==a.TETRIS_STATUS.TETRIS_BG_ICON&&this.node.parent.getComponent(l.default).GetFallingStatus()==a.FALLING_STATUS.FALLING&&(cc.log("stop day",this.node.parent.getComponent(s.default).GetColorName()),this.node.parent.getComponent(l.default).StopFalling()):this.node.parent.getComponent(s.default).GetIconTetrisStatus()==a.TETRIS_STATUS.TETRIS_GROUP&&t.node.parent.getComponent(s.default).GetIconTetrisStatus()==a.TETRIS_STATUS.TETRIS_BG_ICON&&this.node.parent.parent.parent.parent.getComponent(u.default).GetFallingStatus()==a.FALLING_STATUS.FALLING?(cc.log("stop tetris Group cham bg icon",this.node.parent.getComponent(s.default).GetColorName()),this.node.parent.parent.parent.parent.getComponent(u.default).StopFalling(),this.node.parent.parent.parent.getComponent(c.default).EmitToTetrisMain_setLockFallingToBottom()):this.node.parent.getComponent(s.default)&&t.node.parent.getComponent(s.default)&&100==e.tag&&100==t.tag&&this.node.parent.getComponent(s.default).GetIconTetrisStatus()==a.TETRIS_STATUS.TETRIS_BG_ICON&&t.node.parent.getComponent(s.default).GetIconTetrisStatus()==a.TETRIS_STATUS.TETRIS_BG_ICON&&this.node.parent.getComponent(l.default).GetFallingStatus()==a.FALLING_STATUS.FALLING&&this.node.parent.parent.getSiblingIndex()<t.node.parent.parent.getSiblingIndex()&&(cc.log("stop Icontetrisgorup cham icontetris ",this.node.parent.getComponent(s.default).GetColorName()),this.node.parent.getComponent(l.default).StopFalling())},e.prototype.onCollisionStay=function(){},e.prototype.onCollisionExit=function(){},r([d],e)}(cc.Component));o.default=f,cc._RF.pop()},{"../audio/config":"config","../iconTetris/IconTetrisGroupManager":"IconTetrisGroupManager","../iconTetris/iconBase":"iconBase","./IconBgGroupManager":"IconBgGroupManager","./IconTetrisMove":"IconTetrisMove","./tetrisMove":"tetrisMove"}],ThemesContro:[function(t,e,o){"use strict";cc._RF.push(e,"2e417O9JnJFbZ97/3Nj0Bwm","ThemesContro");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../audio/PlayAuido"),c=t("./OptisonContro"),s=cc._decorator,p=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.CloseButton=null,e}return i(e,t),e.prototype.EmitToOptions=function(t){this.node.parent.getComponent(c.default).SetThemesToGameControler(t)},e.prototype.CloseThemesSetting=function(){this.node.parent.getComponent(c.default).CloseThemesPopup()},e.prototype.OnClickSound=function(){a.default.Instance.AudioEffect_touch()},r([l(cc.Node)],e.prototype,"CloseButton",void 0),r([p],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../audio/PlayAuido":"PlayAuido","./OptisonContro":"OptisonContro"}],TopGroupManager:[function(t,e,o){"use strict";cc._RF.push(e,"051d8pL7q1NcJVsjq/WvJhF","TopGroupManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../PoolManager/PoolManager"),c=t("../audio/config"),s=t("../centerGroupControler/tetrisMove"),p=t("../gameData/GameData"),l=cc._decorator,u=l.ccclass,h=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.PoolManager=null,e.Score=null,e.Timer=null,e.Move=null,e.ShowTetrisIcon=null,e.level=null,e.TopScore=null,e.Game_Data=new p.default,e.lableScore=null,e.labelTimer=null,e.labelMove=null,e.number_score=0,e.startTime=0,e.isTimerStart=!1,e.countMove=0,e.totalSecond=0,e.countMinusScore=0,e.TimeUpdate=0,e.isUpdateGameData=!1,e.colorNumber=0,e.tetrisIndex=0,e.countLevel=0,e.countTimeWithLevel=0,e.countTimeUpdate=0,e}var o;return i(e,t),o=e,Object.defineProperty(e,"Instance",{get:function(){return null==this.instance&&(this.instance=new o),this.instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.initTopManager(),this.InitTopInfo()},e.prototype.start=function(){},e.prototype.initAllInfo=function(t,e,o){this.number_score=t,this.countMove=e,this.TimeUpdate=o,this.ShowScore(this.number_score),this.ShowMove(this.countMove),this.SettimerStart(!0)},e.prototype.InitTopInfo=function(){this.number_score=0,this.totalSecond=0,this.countMove=0,this.TimeUpdate=0,this.countLevel=0,this.UpdateGameData(),this.ShowScore(this.number_score),this.ShowMove(this.countMove),this.InitLevel()},e.prototype.initTopManager=function(){var t=this.Score.getChildByName("point");this.lableScore=t.getComponent(cc.Label);var e=this.Timer.getChildByName("showTimer");this.labelTimer=e.getComponent(cc.Label);var o=this.Move.getChildByName("pointMove");this.labelMove=o.getComponent(cc.Label)},e.prototype.InitScore=function(t){0!=t&&(this.number_score+=t,this.ShowScore(this.number_score))},e.prototype.InitLevel=function(){this.countLevel++,this.node.emit(c.GAME_LISTEN_TO_EVENTS.UP_SPEED_FALLING,.05),this.ShowLevel(this.countLevel)},e.prototype.ShowLevel=function(t){this.level.string=t.toString()},e.prototype.ShowTopScoreGame=function(t){this.TopScore.string=t.toString()},e.prototype.CheckMinusScore=function(){0!=this.totalSecond&&(this.totalSecond%5==0?(this.countMinusScore+=1,1==this.countMinusScore&&(this.number_score-=1)):this.countMinusScore=0)},e.prototype.ShowScore=function(t){this.lableScore.string=""+t},e.prototype.SettimerStart=function(t){this.startTime=(new Date).getTime()/1e3,this.isTimerStart=t},e.prototype.ParseTime=function(t){this.totalSecond=parseInt(t.toString(),10),this.totalSecond%4==0&&0!=this.totalSecond&&(this.countTimeUpdate++,1==this.countTimeUpdate&&this.UpdateGameData(),this.scheduleOnce(function(){this.countTimeUpdate=0},1)),this.totalSecond%60==0&&0!=this.totalSecond&&(this.countTimeWithLevel++,1==this.countTimeWithLevel&&this.InitLevel(),this.scheduleOnce(function(){this.countTimeWithLevel=0},2));var e=t%60,o=parseInt((t/60).toString(),10),n=parseInt(e.toString(),10);return(o>=0&&o<10?"0"+o.toString():o.toString())+":"+(n>=0&&n<10?"0"+n.toString():n.toString())},e.prototype.ShowCountTimer=function(t){this.labelTimer.string=t},e.prototype.ShowCountMove=function(t){this.countMove+=t,this.ShowMove(this.countMove)},e.prototype.ShowMove=function(t){var e=this;this.labelMove.string=t.toString(),cc.tween(this.node).delay(.01).call(function(){e.UpdateGameData()}).start()},e.prototype.UpdateGameData=function(){this.Game_Data.Init(this.number_score,this.totalSecond,this.countMove,this.countMove,this.countMove)},e.prototype.ShowTetrisIconNext=function(t,e,o){this.tetrisIndex=e,this.colorNumber=o,cc.log("show puzzle node",this.ShowTetrisIcon);var n=this.ShowTetrisIcon.children[1];if(n){if(n.children.length>0){var i=n.children[0];if(i)for(var r=i.getChildByName(c.NODE_NAME.ICON_TETRIS_GROUP).children,p=0;p<r.length;p++){var l=r[p].getChildByName(c.NODE_NAME.ICON_NAME);l&&(l.removeFromParent(),this.PoolManager.getComponent(a.default).PushIconInThePool(this.colorNumber,l))}i.removeFromParent(),this.PoolManager.getComponent(a.default).PushTetrisNodeThePool(this.tetrisIndex,i)}n.addChild(t),t.setPosition(0,0),t.getComponent(s.default).StopTetris()}},e.prototype.RemoveTetrisIconNext=function(){var t=this.ShowTetrisIcon.children[1];if(t&&t.children.length>0){var e=t.children[0];if(e)for(var o=e.getChildByName(c.NODE_NAME.ICON_TETRIS_GROUP).children,n=0;n<o.length;n++){var i=o[n].getChildByName(c.NODE_NAME.ICON_NAME);i&&(i.removeFromParent(),this.PoolManager.getComponent(a.default).PushIconInThePool(this.colorNumber,i))}e.removeFromParent(),this.PoolManager.getComponent(a.default).PushTetrisNodeThePool(this.tetrisIndex,e)}},e.prototype.UpdateTopScore=function(){},e.prototype.update=function(){if(this.isUpdateGameData,this.isTimerStart){var t=(new Date).getTime()/1e3-this.startTime+this.TimeUpdate,e=this.ParseTime(t);this.ShowCountTimer(e),this.ShowScore(this.number_score)}},e.instance=null,r([h(cc.Node)],e.prototype,"PoolManager",void 0),r([h(cc.Node)],e.prototype,"Score",void 0),r([h(cc.Node)],e.prototype,"Timer",void 0),r([h(cc.Node)],e.prototype,"Move",void 0),r([h(cc.Node)],e.prototype,"ShowTetrisIcon",void 0),r([h(cc.Label)],e.prototype,"level",void 0),r([h(cc.Label)],e.prototype,"TopScore",void 0),o=r([u],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../PoolManager/PoolManager":"PoolManager","../audio/config":"config","../centerGroupControler/tetrisMove":"tetrisMove","../gameData/GameData":"GameData"}],WinGameContro:[function(t,e,o){"use strict";cc._RF.push(e,"4fd0cYVcSJNpKxMIGoUVHvd","WinGameContro");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../LoadPrefab/PrefabManager"),c=t("../audio/PlayAuido"),s=t("../audio/config"),p=t("../maingame/GameManager"),l=cc._decorator,u=l.ccclass,h=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.totalSecond=0,e.MovePoint=null,e.TimePoint=null,e.ScorePoint=null,e.RankPoint=null,e.TopScorePoint=null,e}return i(e,t),e.prototype.ShowAllPointGame=function(t,e,o,n,i){cc.log("show point game",t,e,o,n,i),this.MovePoint.string=t.toString(),this.TimePoint.string=this.ConverPointToTimeString(e),this.ScorePoint.string=o.toString(),this.RankPoint.string=n.toString(),this.TopScorePoint.string=i.toString()},e.prototype.ConverPointToTimeString=function(t){this.totalSecond=parseInt(t.toString(),10);var e=t%60,o=parseInt((t/60).toString(),10),n=parseInt(e.toString(),10);return(o>=0&&o<10?"0"+o.toString():o.toString())+":"+(n>=0&&n<10?"0"+n.toString():n.toString())},e.prototype.OnClickButton_done=function(){this.node.parent.parent.getComponent(p.GameManager).RemovePopup(this.node)},e.prototype.OnClickButton_Home=function(){var t=a.default.getPrefab(s.PREFAB_NAME.HOME_PREFAB);t&&this.node.parent.parent.getComponent(p.GameManager).ComebackHome(t)},e.prototype.OnClickButton_next=function(){this.node.parent.parent.getComponent(p.GameManager).NextGamePlay(),this.node.parent.parent.getComponent(p.GameManager).RemovePopup(this.node)},e.prototype.OnClickSound=function(){c.default.Instance.AudioEffect_touch()},r([h(cc.Label)],e.prototype,"MovePoint",void 0),r([h(cc.Label)],e.prototype,"TimePoint",void 0),r([h(cc.Label)],e.prototype,"ScorePoint",void 0),r([h(cc.Label)],e.prototype,"RankPoint",void 0),r([h(cc.Label)],e.prototype,"TopScorePoint",void 0),r([u],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../LoadPrefab/PrefabManager":"PrefabManager","../audio/PlayAuido":"PlayAuido","../audio/config":"config","../maingame/GameManager":"GameManager"}],config:[function(t,e,o){"use strict";cc._RF.push(e,"71ceewAEtxPaK8DnkH1K7DC","config"),Object.defineProperty(o,"__esModule",{value:!0}),o.LEFT_RIGHT_STATUS=o.COLLIDER_LEFT_RIGHT=o.TETRIS_MOVE_LEFT_RIGHT=o.COLLIDER_LEFT_RIGHT_STATUS=o.TETRIS_STATUS=o.ICON_TETRIS_COLOR=o.FALLING_STATUS=o.TOUCH_STATUS=o.GAMEPLAY_STATUS=o.CHECK_CELL_STATUS=o.CHECK_GAME_STATUS=o.MOUSE_ONCLICK_LEFT_RIGHT_STATUS=o.GROUP_NAME=o.NODE_NAME=o.PREFAB_NAME=o.GAME_LISTEN_TO_EVENTS=o.MOUSE_STATUS=void 0,function(t){t[t.NO_STATUS=0]="NO_STATUS",t[t.MOUSE_DOWN=1]="MOUSE_DOWN",t[t.MOUSE_UP=2]="MOUSE_UP"}(o.MOUSE_STATUS||(o.MOUSE_STATUS={})),o.GAME_LISTEN_TO_EVENTS={DATA_FOR_CARD_INTERMEDIARY:"data-for-card-intermediary",DATA_INDEX_FOR_CARD:"data-index-for-card",DATA_OUTPUT_CELL:"data-output-cell",DATA_OUTPUT_CELL_MAIN:"data-output-cell-main",DATA_ONCLICK_CARD:"data-on-click-card",DATA_ONCLICK_BUTTON_RIGHT:"data-onclick-button-right",DATA_REMOVE_CARD_FREECELL:"data-remove-card-free-cell",DATA_CHECK_CHILDS_FOR_CELL:"data-check-childs-for-cell",DATA_DELETE_COLLIDER_CHILD_NODE:"data-delete-collider-child-node",DATA_UPDATE_COUNT_MOVE:"data-update-count-move",DATA_CLOSE_HELP_POPUP:"data-close-help-popup",DATA_THEMES_NUMBER_SET:"data-themes-number-set",DATA_SETINDEX_CELL_TO_ORIGIN:"data-setIndex-cell-to-origin",DATA_CHILDREN_FOR_CELL_TAG20:"data-children-for-cell-tag20",TETRIS_TO_LEFT:"tetris-to-left",TETRIS_TO_RIGHT:"tetris-to-right",TETRIS_tO_BOTTOM:"tetris-to-bottom",CHAM_CANH_TRAI:"cham-canh-trai",CHAM_CANH_PHAI:"cham-canh-phai",CHAM_CANH_DUOI:"cham-canh-duoi",FALLING_END:"falling-end",BAT_DUOC_TETRIS_ICON:"bat-duoc-tetris-icon",REMOVE_TETRIS_OLD:"remove-tetris-old",GUI_SHOW_TETRIS_NODE_NEXT:"gui-show-tetris-node-next",XOA_TETRIS_ICON_NEXT:"xoa-tetris-icon-next",ADD_POINT:"add-point",UP_SPEED_FALLING:"up-speed-falling",ICON_TETRIS_NHAPMANG:"icon-tetris-nhap-mang",LOSE_GAME:"lose-game"},o.PREFAB_NAME={LOADING_PREFAB:"Loading",HOME_PREFAB:"Home",MAIN_GAME_PLAY:"MainNode",GAME_MENU:"Game",CARD:"CarrdNode",LOSE_GAME:"LoseGame",WIN_GAME:"WinGame",OPTIONS:"Options",HOW_TO_PLAY:"ShowHowToPlay",THEMES:"themes",BOTTOM_GROUP:"Bottom_group",TOP_GROUP:"Top_group",TETRIS1:"tetris1",TETRIS2:"tetris2",TETRIS3:"tetris3",TETRIS4:"tetris4",TETRIS5:"tetris5",TETRIS6:"Tetris6"},o.NODE_NAME={ICON_TETRIS_GROUP:"tetrisGroup",COLLIDER_VA_CHAM:"collider_vaCham",CIRCLE_COLLIDER:"CircleCollider",COLLIDER_NHAP_MANG:"collider_nhapMang",ICON_NAME:"icon",SHOW_PUZZLE:"showPuzzle",COLLIDER_LEFT:"colliderLeft",COLLIDER_RIGHT:"colliderRight",COLLIDER_LEFT_RIGHT:"colliderLeftRight",COLLIDER_NODE:"collider"},o.GROUP_NAME={DEFAULT_GROUP:"default",TETRIS_GROUP:"tetrisGroup",NHAP_MANG_GROUP:"nhapMang",CANH_GROUP:"Canh",MANG_GROUP:"Mang",LEFT_RIGHT_GROUP:"leftRightGroup"},function(t){t[t.NO_STATUS=0]="NO_STATUS",t[t.MOUSE_RIGHT=1]="MOUSE_RIGHT",t[t.MOUSE_LEFT=2]="MOUSE_LEFT"}(o.MOUSE_ONCLICK_LEFT_RIGHT_STATUS||(o.MOUSE_ONCLICK_LEFT_RIGHT_STATUS={})),function(t){t[t.NO_STATUS=0]="NO_STATUS",t[t.CHECK_HIND=1]="CHECK_HIND",t[t.CHECK_LOSE=2]="CHECK_LOSE"}(o.CHECK_GAME_STATUS||(o.CHECK_GAME_STATUS={})),function(t){t[t.NO_STATUS=0]="NO_STATUS",t[t.CHECK_CELL_WITH_FREECELL=1]="CHECK_CELL_WITH_FREECELL",t[t.CHECK_CELL_WITH_ACECELL=2]="CHECK_CELL_WITH_ACECELL",t[t.CHECK_FREECELL_WITH_ACECELL=3]="CHECK_FREECELL_WITH_ACECELL"}(o.CHECK_CELL_STATUS||(o.CHECK_CELL_STATUS={})),function(t){t[t.NO_STATUS=0]="NO_STATUS",t[t.LOADING_GAME=1]="LOADING_GAME",t[t.NEW_GAME=2]="NEW_GAME"}(o.GAMEPLAY_STATUS||(o.GAMEPLAY_STATUS={})),function(t){t[t.NO_STATUS=0]="NO_STATUS",t[t.TOUCH=1]="TOUCH",t[t.DOUBLE_TOUCH=2]="DOUBLE_TOUCH"}(o.TOUCH_STATUS||(o.TOUCH_STATUS={})),function(t){t[t.NO_STATUS=0]="NO_STATUS",t[t.FALLING=1]="FALLING",t[t.STOP=2]="STOP"}(o.FALLING_STATUS||(o.FALLING_STATUS={})),function(t){t[t.red=0]="red",t[t.yellow=1]="yellow",t[t.blue=2]="blue",t[t.green=3]="green",t[t.violet=4]="violet",t[t.orange=5]="orange"}(o.ICON_TETRIS_COLOR||(o.ICON_TETRIS_COLOR={})),function(t){t[t.NO_STATUS=0]="NO_STATUS",t[t.TETRIS_GROUP=1]="TETRIS_GROUP",t[t.TETRIS_BG_ICON=2]="TETRIS_BG_ICON"}(o.TETRIS_STATUS||(o.TETRIS_STATUS={})),function(t){t[t.NO_STATUS=0]="NO_STATUS",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT"}(o.COLLIDER_LEFT_RIGHT_STATUS||(o.COLLIDER_LEFT_RIGHT_STATUS={})),function(t){t[t.NO_STATUS=0]="NO_STATUS",t[t.MOVE_LEFT=1]="MOVE_LEFT",t[t.MOVE_RIGHT=2]="MOVE_RIGHT"}(o.TETRIS_MOVE_LEFT_RIGHT||(o.TETRIS_MOVE_LEFT_RIGHT={})),function(t){t[t.NO_STATUS=0]="NO_STATUS",t[t.COLLITION_LEFT=1]="COLLITION_LEFT",t[t.COLLITION_RIGHT=2]="COLLITION_RIGHT"}(o.COLLIDER_LEFT_RIGHT||(o.COLLIDER_LEFT_RIGHT={})),function(t){t[t.NO_STATUS=0]="NO_STATUS",t[t.TOP=1]="TOP",t[t.RIGHT=2]="RIGHT",t[t.BOTTOM=3]="BOTTOM",t[t.LEFT=4]="LEFT"}(o.LEFT_RIGHT_STATUS||(o.LEFT_RIGHT_STATUS={})),cc._RF.pop()},{}],iconBase:[function(t,e,o){"use strict";cc._RF.push(e,"43b2dVIuP1H7LHqHXk1KTzU","iconBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../audio/config"),c=t("../centerGroupControler/TetrisColliderControler"),s=t("../common/LoadImages"),p=cc._decorator,l=p.ccclass,u=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ICON_COLOR=["red","yellow","blue","green","violet","orange","blueMain"],e.IconImage=null,e.IconGlow=null,e.iconCollider_inputMang=null,e.iconCollider_vaChamTetrisGroup=null,e.ColliderLeftRight=null,e.colorName="",e.colorIndex=0,e.tetrisStatus=a.TETRIS_STATUS.NO_STATUS,e}return i(e,t),e.prototype.Init_iconTetris=function(t){var e=this;this.colorName=this.ICON_COLOR[t],this.colorIndex=t,s.default.Instance.LoadingImages("Images/hatColor/",this.colorName,function(t){e.IconImage.getComponent(cc.Sprite).spriteFrame=t}),this.IconGlow.getComponent(cc.Sprite).enabled=!1},e.prototype.SetIconGlow=function(t){this.IconGlow.getComponent(cc.Sprite).enabled=t},e.prototype.SetIConGlow_red=function(){},e.prototype.GetColorIndex=function(){return this.colorIndex},e.prototype.SetIconTetrisStatus=function(t){this.tetrisStatus=t},e.prototype.GetIconTetrisStatus=function(){return this.tetrisStatus},e.prototype.GetColorName=function(){return this.colorName},e.prototype.ResetAllProperties=function(){this.SetIconGlow(!1),this.tetrisStatus=a.TETRIS_STATUS.NO_STATUS,this.SetIconTetrisStatus(a.TETRIS_STATUS.TETRIS_GROUP),this.ResetColliderTetrisVacham()},e.prototype.ResetColliderTetrisVacham=function(){this.iconCollider_vaChamTetrisGroup.getComponent(c.default)||this.iconCollider_vaChamTetrisGroup.addComponent(c.default),this.iconCollider_vaChamTetrisGroup.getComponent(c.default).enabled||(this.iconCollider_vaChamTetrisGroup.getComponent(c.default).enabled=!0),this.iconCollider_vaChamTetrisGroup.group!=a.GROUP_NAME.TETRIS_GROUP&&(this.iconCollider_vaChamTetrisGroup.group=a.GROUP_NAME.TETRIS_GROUP)},r([u(cc.Node)],e.prototype,"IconImage",void 0),r([u(cc.Node)],e.prototype,"IconGlow",void 0),r([u(cc.Node)],e.prototype,"iconCollider_inputMang",void 0),r([u(cc.Node)],e.prototype,"iconCollider_vaChamTetrisGroup",void 0),r([u(cc.Node)],e.prototype,"ColliderLeftRight",void 0),r([l],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../audio/config":"config","../centerGroupControler/TetrisColliderControler":"TetrisColliderControler","../common/LoadImages":"LoadImages"}],iconBgBase:[function(t,e,o){"use strict";cc._RF.push(e,"98ac88C4pRCipzsLBiXu0mo","iconBgBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tetrisStatus=0,e}return i(e,t),e.prototype.SetTetrisStatus=function(t){this.tetrisStatus=t},e.prototype.GetTetrisStatus=function(){return this.tetrisStatus},r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],leftRightCollider:[function(t,e,o){"use strict";cc._RF.push(e,"7d655EP/CtIjrlWZytYIcEe","leftRightCollider");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../audio/config"),c=t("./tetrisMove"),s=cc._decorator,p=s.ccclass,l=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isChamBenTrai=!1,e.isChamBenPhai=!1,e.isChamCa2Ben=!1,e.left_right_status=a.COLLIDER_LEFT_RIGHT_STATUS.NO_STATUS,e}return i(e,t),e.prototype.onCollisionEnter=function(t){2==t.tag&&(this.isChamBenTrai=!0,this.node.parent.getComponent(c.default).SetLockLeft(!0)),4==t.tag&&(this.isChamBenPhai=!0,this.node.parent.getComponent(c.default).SetLockRight(!0)),this.isChamBenPhai&&this.isChamBenTrai&&(this.isChamCa2Ben=!0,this.node.parent.getComponent(c.default).SetLockLeft_right(!0))},e.prototype.onCollisionStay=function(){},e.prototype.onCollisionExit=function(){},e.prototype.ResetLeftStatus=function(){this.isChamBenTrai=!1},e.prototype.ResetRightStatus=function(){this.isChamBenPhai=!1},e.prototype.ResetAllProperties=function(){this.ResetLeftStatus(),this.ResetRightStatus(),this.isChamCa2Ben=!1},r([p],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../audio/config":"config","./tetrisMove":"tetrisMove"}],tetrisMove:[function(t,e,o){"use strict";cc._RF.push(e,"59e8bQcDI1LSroqzQYc0rWd","tetrisMove");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../audio/config"),c=t("../iconTetris/IconTetrisGroupManager"),s=t("./leftRightCollider"),p=cc._decorator,l=p.ccclass,u=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.IconTetrisGroup=null,e.Falling_status=a.FALLING_STATUS.NO_STATUS,e.speedFalling=.2,e.dx=0,e.dy=1,e.StartPos=new cc.Vec3(0,0),e.endPos=new cc.Vec3(0,0,0),e.isMoving=!1,e.isLockMovingLeft=!1,e.isLockMovingRight=!1,e.isLockFallingToBottom=!1,e.speedCurrent=0,e.isMaxSpeed=!1,e.countFallingEnd=0,e.colliderLeft_rightStatus=!1,e.colliderLeft=!1,e.colliderRight=!1,e.isRegisterEvent=!1,e.tetrisMoveLeft_right_status=a.TETRIS_MOVE_LEFT_RIGHT.NO_STATUS,e}return i(e,t),e.prototype.start=function(){this.RegisterEvent()},e.prototype.RegisterEvent=function(){this.IconTetrisGroup.on(a.GAME_LISTEN_TO_EVENTS.CHAM_CANH_TRAI,this.SetLockMovingLeft,this),this.IconTetrisGroup.on(a.GAME_LISTEN_TO_EVENTS.CHAM_CANH_PHAI,this.SetLockMovingRight,this),this.IconTetrisGroup.on(a.GAME_LISTEN_TO_EVENTS.CHAM_CANH_DUOI,this.SetLockMovingBottom,this)},e.prototype.TetrisFalling=function(){this.Falling_status=a.FALLING_STATUS.FALLING},e.prototype.update=function(){var t=this.node.getPosition(),e=new cc.Vec3(t.x+this.speedFalling*this.dx,t.y+this.speedFalling*this.dy,0);if(this.Falling_status==a.FALLING_STATUS.FALLING)this.node.setPosition(e),this.SetFalling(this.node.position);else if(this.Falling_status==a.FALLING_STATUS.STOP)return},e.prototype.SetFalling=function(t){t.y>=-360?(this.dy=-1,this.dx=0):(this.dy=0,this.dx=0,0!=this.speedCurrent?this.speedFalling=this.speedCurrent:this.speedFalling=.2,this.Falling_status=a.FALLING_STATUS.STOP)},e.prototype.SetUpSpeedMax=function(){this.isMaxSpeed=!0,this.speedFalling=6},e.prototype.GetMaxSpeedStatus=function(){return this.isMaxSpeed},e.prototype.SetLockMovingLeft=function(t){this.isLockMovingLeft=t},e.prototype.SetLockMovingRight=function(t){this.isLockMovingRight=t},e.prototype.SetLockMovingBottom=function(t){this.countFallingEnd++,this.isLockFallingToBottom=t,1==this.countFallingEnd&&(this.IconTetrisGroup.getComponent(c.default).ResetCount_bottom(),cc.log("GAME_LISTEN_TO_EVENTS.FALLING_END tetris move"),this.node.emit(a.GAME_LISTEN_TO_EVENTS.FALLING_END)),this.scheduleOnce(function(){this.countFallingEnd=0},.1)},e.prototype.GetLockMovingLeft=function(){return this.isLockMovingLeft},e.prototype.GetLockMovingRight=function(){return this.isLockMovingRight},e.prototype.SetIsMoving=function(t){this.isMoving=t},e.prototype.SetSpeedFalling=function(t){this.speedFalling+=t,this.speedCurrent=this.speedFalling},e.prototype.StopFalling=function(){this.RemoveLeftRightCollider(),this.Falling_status=a.FALLING_STATUS.STOP,this.isMaxSpeed=!1,0!=this.speedCurrent?this.speedFalling=this.speedCurrent:this.speedFalling=.2},e.prototype.StopTetris=function(){this.Falling_status=a.FALLING_STATUS.STOP},e.prototype.TetrisMovingToLeft=function(){!this.isMoving||this.isLockMovingLeft||this.colliderLeft||this.colliderLeft_rightStatus||(this.isLockMovingRight=!1,this.tetrisMoveLeft_right_status=a.TETRIS_MOVE_LEFT_RIGHT.MOVE_LEFT,this.node.setPosition(this.node.position.x-32,this.node.position.y,0),this.IconTetrisGroup.getComponent(c.default).ResetCount_right(),this.colliderRight=!1,this.node.getChildByName(a.NODE_NAME.COLLIDER_NODE)&&this.node.getChildByName(a.NODE_NAME.COLLIDER_NODE).getComponent(s.default).ResetRightStatus())},e.prototype.GetFallingStatus=function(){return this.Falling_status},e.prototype.TetrisMovingToRight=function(){!this.isMoving||this.isLockMovingRight||this.colliderRight||this.colliderLeft_rightStatus||(this.isLockMovingLeft=!1,this.tetrisMoveLeft_right_status=a.TETRIS_MOVE_LEFT_RIGHT.MOVE_RIGHT,this.node.setPosition(this.node.position.x+32,this.node.position.y,0),this.IconTetrisGroup.getComponent(c.default).ResetCount_left(),this.colliderLeft=!1,this.node.getChildByName(a.NODE_NAME.COLLIDER_NODE)&&this.node.getChildByName(a.NODE_NAME.COLLIDER_NODE).getComponent(s.default).ResetLeftStatus())},e.prototype.SetLockLeft=function(t){this.colliderLeft=t},e.prototype.SetLockRight=function(t){this.colliderRight=t},e.prototype.SetLockLeft_right=function(t){this.colliderLeft_rightStatus=t},e.prototype.OpenLeftRight=function(){this.isLockMovingLeft=!1,this.isLockMovingRight=!1},e.prototype.RemoveLeftRightCollider=function(){var t=this.node.getChildByName("collider");t.getComponent(s.default)&&t.removeComponent(s.default)},e.prototype.AddLeftRightCollider=function(){var t=this.node.getChildByName("collider");t.getComponent(s.default)||t.addComponent(s.default)},e.prototype.EmitCenterManager_nhapMang=function(t,e){this.node.emit(a.GAME_LISTEN_TO_EVENTS.ICON_TETRIS_NHAPMANG,t,e)},e.prototype.ResetAllProperties=function(){this.isLockMovingLeft=!1,this.isLockMovingRight=!1,this.colliderLeft=!1,this.colliderRight=!1,this.isMoving=!1,this.colliderLeft_rightStatus=!1,this.speedFalling=.2,this.Falling_status=a.FALLING_STATUS.NO_STATUS,this.isMaxSpeed=!1,this.countFallingEnd=0,this.AddLeftRightCollider()},r([u(cc.Node)],e.prototype,"IconTetrisGroup",void 0),r([l],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../audio/config":"config","../iconTetris/IconTetrisGroupManager":"IconTetrisGroupManager","./leftRightCollider":"leftRightCollider"}]},{},["BaseCard","CardColliders","CardMove","CardType","Helper","PrefabManager","LoseGameContro","MenuGameContro","NexPageContro","NodeMoveWithParabol","OnClickThemesContro","OptisonContro","SwapImgButtonContro","ThemesContro","PoolManager","ProgressBarControler","SetSIzeNodeConformScreen","WinGameContro","AudioLoader","PlayAuido","config","BottomGroupManager","AceCell","Cell","FreeCell","CenterGroupControler","GetEventTouchControlerTetris","IconBgGroupManager","IconTetrisMove","NhapMangCollider","TetrisColliderControler","leftRightCollider","tetrisMove","CheckRandomNumber","LoadImages","Stack","GameData","SaveData","HomeContro","IconTetrisGroupManager","iconBase","iconBgBase","LoadingContro","GameControler","GameManager","Main","TopGroupManager"]);